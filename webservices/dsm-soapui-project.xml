<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project name="DSM" resourceRoot="" soapui-version="4.5.0" abortOnError="false" runType="SEQUENTIAL" activeEnvironment="Default" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" wadlVersion="http://wadl.dev.java.net/2009/02" name="DSM" type="rest" basePath="" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://localhost:8080</con:endpoint><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:endpoint>http://dsm-st2.netpost</con:endpoint></con:endpoints>
<con:resource name="Task Resource" path="/bss/dsm/delivery-services/tasks/{taskId}"><con:settings/><con:parameters><con:parameter><con:name>taskId</con:name><con:style>TEMPLATE</con:style><con:default/></con:parameter></con:parameters>
<con:resource name="[DEV] Manual trigger task on queue" path="trigger-process"><con:settings/><con:parameters/><con:method name="Trigger" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/xml</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/plain; charset=ISO-8859-1</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:request name="Request" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource>
<con:resource name="[DEV] Manual trigger polling of task" path="trigger-poll"><con:settings/><con:parameters/><con:method name="Trigger" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/xml</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource>
<con:method name="Get" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>500 404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/vnd.bpost.excell.common.task.v2+xml</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:v2="http://schemas.bpost.be/excell/common/task/v2">v2:task</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404 500</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="a7869dcf-ab8b-4f0b-993c-a62236403017" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource><con:resource name="Top Delivery Service Resource Factory" path="/bss/dsm/delivery-services"><con:settings/><con:parameters/><con:resource name="Top Delivery Service Resource" path="{id}/versions/{versionId}">
  <con:settings/>
  <con:parameters>
    <con:parameter>
      <con:name>id</con:name>
      <con:value>id</con:value>
      <con:style>TEMPLATE</con:style>
      <con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
      <con:default>id</con:default>
      <con:description xsi:nil="true"/>
    </con:parameter>
    <con:parameter>
      <con:name>versionId</con:name>
      <con:value>versionId</con:value>
      <con:style>TEMPLATE</con:style>
      <con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
      <con:default>versionId</con:default>
      <con:description xsi:nil="true"/>
    </con:parameter>
  </con:parameters>
  <con:resource name="End Date Resource" path="endDate"><con:settings/><con:parameters/><con:method name="Update" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>500 400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/xml</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/vnd.bpost.excell.common.task.v2+xml</con:mediaType><con:status>202</con:status><con:params/><con:element xmlns:v2="http://schemas.bpost.be/excell/common/task/v2">v2:task</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/vnd.bpost.excell.service.service-endDate.v1+xml</con:mediaType><con:params/><con:element xmlns:v1="http://schemas.bpost.be/excell/service/delivery-service/end-date/v1">v1:deliveryServiceEndDateInfo</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/vnd.bpost.excell.common.task.v2+xml</con:mediaType><con:status>404 422</con:status><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=ISO-8859-1</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/vnd.bpost.excell.service.delivery-service-end-date.v1+xml</con:mediaType><con:params/><con:element xmlns:v1="http://schemas.bpost.be/excell/service/delivery-service/end-date/v1">v1:deliveryServiceEndDateInfo</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/vnd.bpost.excell.service.service-end-date.v1+xml</con:mediaType><con:params/><con:element xmlns:v1="http://schemas.bpost.be/excell/service/delivery-service-end-date/v1">v1:deliveryServiceEndDateInfo</con:element></con:representation><con:request name="Request" mediaType="application/vnd.bpost.excell.service.delivery-service-end-date.v1+xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request>&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;cdse:deliveryServiceEndDateInfo xmlns:cdse="http://schemas.bpost.be/excell/service/delivery-service-end-date/v1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.bpost.be/excell/service/delivery-service/end-date/v1 service-endDate-v1.xsd ">
  &lt;endDate>2016-10-01&lt;/endDate>
&lt;/cdse:deliveryServiceEndDateInfo>

</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="654d52ea-b6ce-413a-b6ab-af834ed28408"/>
  <con:entry key="versionId" value="a7ba155f-8e6e-4d2e-9820-b4177371d7f9"/>
</con:parameters></con:request><con:request name="Request Fail" mediaType="application/vnd.bpost.excell.service.service-endDate.v1+xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;cdse:deliveryServiceEndDateInfo xmlns:cdse="http://schemas.bpost.be/excell/service/delivery-service/end-date/v1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.bpost.be/excell/service/delivery-service/end-date/v1 service-endDate-v1.xsd ">
  &lt;endDate>2013-01-01&lt;/endDate>
&lt;/cdse:deliveryServiceEndDateInfo>
</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="-1"/>
  <con:entry key="versionId" value="-1"/>
</con:parameters></con:request></con:method></con:resource>
<con:resource name="Submit Cancel DeliveryService" path="cancelled"><con:settings/><con:parameters/><con:method name="Method 1" method="PUT"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>500 400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/vnd.bpost.excell.common.task.v2+xml</con:mediaType><con:status>202</con:status><con:params/><con:element xmlns:v2="http://schemas.bpost.be/excell/common/task/v2">v2:task</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/vnd.bpost.excell.common.task.v2+xml</con:mediaType><con:status>404 422</con:status><con:params/></con:representation><con:representation type="REQUEST"><con:mediaType>application/xml</con:mediaType><con:params/></con:representation><con:representation type="REQUEST"><con:mediaType>application/x-www-form-urlencoded</con:mediaType><con:params/></con:representation><con:request name="Request 1" mediaType="application/x-www-form-urlencoded" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request>
</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="654d52ea-b6ce-413a-b6ab-af834ed28408"/>
  <con:entry key="versionId" value="a7ba155f-8e6e-4d2e-9820-b4177371d7f9"/>
</con:parameters></con:request></con:method></con:resource>
<con:resource name="Confirmation" path="confirmation"><con:settings/><con:parameters/><con:method name="Send confirm" method="PUT"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/vnd.bpost.excell.common.task.v2+xml</con:mediaType><con:status>422 500</con:status><con:params/></con:representation><con:representation type="REQUEST"><con:mediaType>application/xml</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/vnd.bpost.excell.common.task.v2+xml</con:mediaType><con:status>202</con:status><con:params/><con:element xmlns:v2="http://schemas.bpost.be/excell/common/task/v2">v2:task</con:element></con:representation><con:request name="Request" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="49f55e19-d087-475e-87dd-d9c5452551ff"/>
  <con:entry key="versionId" value="00cb2bfb-91b8-46c9-b95c-90e47ed17118"/>
</con:parameters></con:request></con:method></con:resource><con:method name="Get" method="GET">
    <con:settings/>
    <con:parameters/>
    <con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/vnd.bpost.excell.service.top-delivery-service.v1+xml</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/excell/service/top-delivery-service/v1/">v1:topDeliveryService</con:element></con:representation><con:request name="Request" mediaType="application/xml">
      <con:settings>
        <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
      </con:settings>
      <con:endpoint>http://dsm-dv2.netpost</con:endpoint>
      <con:request/>
      <con:credentials>
        <con:authType>Global HTTP Settings</con:authType>
      </con:credentials>
      <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
      <con:jmsPropertyConfig/>
      <con:parameters>
  <con:entry key="id" value="d402ed27-1c9b-4a2c-bcba-bb8cedf1c139"/>
  <con:entry key="versionId" value="a6dd0b1a-2d20-46fb-bb3a-928c5ac2b392"/>
</con:parameters>
    </con:request>
    
  </con:method>
</con:resource>
<con:method name="Create" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/vnd.bpost.excell.service.delivery-service.v1+xml</con:mediaType><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>500</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/xml</con:mediaType><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/vnd.bpost.DeliveryServiceInfo-v1+XML</con:mediaType><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/vnd.bpost.excell.service.delivery-service-info.v1+xml</con:mediaType><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/vnd.bpost.excell.common.task.v2+xml</con:mediaType><con:status>202</con:status><con:params/><con:element xmlns:v2="http://schemas.bpost.be/excell/common/task/v2">v2:task</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/plain; charset=ISO-8859-1</con:mediaType><con:status>500 400</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=ISO-8859-1</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html; charset=iso-8859-1</con:mediaType><con:status>503</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/business-event-service/business-event/v1">v1:businessEventPublication</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>400</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/vnd.bpost.excell.common.task.v2+xml</con:mediaType><con:params/><con:element xmlns:v1="http://schemas.bpost.be/excell/service/top-delivery-service/v1/">v1:topDeliveryServiceInfo</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/vnd.bpost.excell.service.top-delivery-service.v1+xml</con:mediaType><con:params/><con:element xmlns:v1="http://schemas.bpost.be/excell/service/top-delivery-service/v1/">v1:topDeliveryServiceInfo</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="VAS (unused)" mediaType="application/vnd.bpost.excell.service.delivery-service.v1+xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-st2.netpost</con:endpoint><con:request><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<ds:deliveryServiceInfo 
xmlns:ctd="http://schemas.bpost.be/excell/common/type-definitions/v2" 
xmlns:ds="http://schemas.bpost.be/excell/service/delivery-service/v1/" 
xmlns:mon="http://schemas.bpost.be/excell/common/money/v3" 
xmlns:pa="http://schemas.bpost.be/excell/common/attribute/v3" 
xmlns:pavd="http://schemas.bpost.be/excell/common/attribute-value/v3" 
xmlns:per="http://schemas.bpost.be/excell/common/percentage/v1" 
xmlns:phyadd="http://schemas.bpost.be/excell/common/physical-address/v1" 
xmlns:sur="http://schemas.bpost.be/excell/service-user/v1" 
xmlns:uom="http://schemas.bpost.be/excell/common/unit-of-measurement/V1" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ds:administratriveState>down</ds:administratriveState>
  <ds:billTo>billTo</ds:billTo>
  <ds:deliveryServiceCode>SSC Franking Reminder Letter</ds:deliveryServiceCode>
  <ds:serviceUserName>serviceUserName</ds:serviceUserName>
  <ds:contract>http://tempuri.org</ds:contract>
  <ds:contractExternalNumber>ds:contractExternalNumber</ds:contractExternalNumber>
  <ds:contractingTo>contracTo${=((int)(java.lang.Math.random()*10000))}</ds:contractingTo>
  <ds:contractLine>http://tempuri.org</ds:contractLine>
  <ds:contractLineId>ds:contractLineId</ds:contractLineId>
  <ds:productItem>http://tempuri.org</ds:productItem>
  <ds:startDate>2001-01-01</ds:startDate>
  <ds:endDate>2001-01-01</ds:endDate>
  <ds:productAttributes>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/parcelAccountId</pa:definition>
      <pa:code>Parcel Account ID</pa:code>
      <pa:value><pavd:string-value>12345678901234567890</pavd:string-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/parcelVasCode</pa:definition>
      <pa:code>Parcel VAS Code</pa:code>
      <pa:value><pavd:string-value>666</pavd:string-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/RetourAddress</pa:definition>
      <pa:code>Retour Address</pa:code>
      <pa:value>
        <pavd:physicalAddress-v1-value>
            <phyadd:streetName>rue du trou perdu</phyadd:streetName>
            <phyadd:houseNumber>47</phyadd:houseNumber>
            <phyadd:box>5</phyadd:box>
            <phyadd:postalCode>5030</phyadd:postalCode>
            <phyadd:municipality>Gembloux</phyadd:municipality>
            <phyadd:countryCode>BE</phyadd:countryCode>
        </pavd:physicalAddress-v1-value>
      </pa:value>
    </pa:attribute>
  </ds:productAttributes>
</ds:deliveryServiceInfo>
]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request><con:request name="POD (unused)" mediaType="application/vnd.bpost.excell.service.delivery-service.v1+xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<ds:deliveryServiceInfo 
xmlns:ctd="http://schemas.bpost.be/excell/common/type-definitions/v2" 
xmlns:ds="http://schemas.bpost.be/excell/service/delivery-service/v1/" 
xmlns:mon="http://schemas.bpost.be/excell/common/money/v3" 
xmlns:pa="http://schemas.bpost.be/excell/common/attribute/v3" 
xmlns:pavd="http://schemas.bpost.be/excell/common/attribute-value/v3" 
xmlns:per="http://schemas.bpost.be/excell/common/percentage/v1" 
xmlns:phyadd="http://schemas.bpost.be/excell/common/physical-address/v1" 
xmlns:sur="http://schemas.bpost.be/excell/service-user/v1" 
xmlns:uom="http://schemas.bpost.be/excell/common/unit-of-measurement/V1" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 

  <ds:administratriveState>down</ds:administratriveState>
  <ds:deliveryServiceCode>SSC Franking Confirmation Letter</ds:deliveryServiceCode>
  <ds:contract>http://tempuri.org</ds:contract>
  <ds:contractExternalNumber>ds:contractExternalNumber</ds:contractExternalNumber>
  <ds:contractingTo>contracTo${=((int)(java.lang.Math.random()*10000))}</ds:contractingTo>
  <ds:contractLine>http://tempuri.org</ds:contractLine>
  <ds:contractLineId>ds:contractLineId</ds:contractLineId>
  <ds:productItem>http://tempuri.org</ds:productItem>
  <ds:startDate>2001-01-01</ds:startDate>
  <ds:endDate>2001-01-01</ds:endDate>
  <ds:productAttributes>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/paperOnDemand</pa:definition>
      <pa:code>P-POD On Demand</pa:code>
      <pa:value><pavd:boolean-value>false</pavd:boolean-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/electronicOnDemand</pa:definition>
      <pa:code>E-POD On Demand</pa:code>
      <pa:value><pavd:boolean-value>true</pavd:boolean-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/SkipSendEmail</pa:definition>
      <pa:code>E-POD Send No Email</pa:code>
      <pa:value><pavd:boolean-value>false</pavd:boolean-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/CustomerReference</pa:definition>
      <pa:code>Customer Reference</pa:code>
      <pa:value><pavd:string-value>PRIOR</pavd:string-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/EmailDeliveryFrequency</pa:definition>
      <pa:code>E-POD Delivery Frequency</pa:code>
      <pa:value><pavd:string-value>DAILY</pavd:string-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/PaperDeliveryFrequency</pa:definition>
      <pa:code>P-POD Delivery Frequency</pa:code>
      <pa:value><pavd:string-value>NO</pavd:string-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/EmailRecipients</pa:definition>
      <pa:code>E-POD Destination Email Addresses</pa:code>
      <pa:value><pavd:string-value>dimitri.d'hooge@bpost.be,dimitri.d'hooge@post.be</pavd:string-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/DestinationAddress</pa:definition>
      <pa:code>P-POD Destination Address</pa:code>
      <pa:value>
        <pavd:physicalAddress-v1-value>
            <phyadd:streetName>rue du trou perdu</phyadd:streetName>
            <phyadd:houseNumber>47</phyadd:houseNumber>
            <phyadd:box>5</phyadd:box>
            <phyadd:postalCode>5030</phyadd:postalCode>
            <phyadd:municipality>Gembloux</phyadd:municipality>
            <phyadd:countryCode>BE</phyadd:countryCode>
        </pavd:physicalAddress-v1-value>
      </pa:value>
    </pa:attribute>
  </ds:productAttributes>
</ds:deliveryServiceInfo>
]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request><con:request name="ROMA (unused)" mediaType="application/vnd.bpost.excell.service.delivery-service.v1+xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<ds:deliveryServiceInfo 
xmlns:ctd="http://schemas.bpost.be/excell/common/type-definitions/v2" 
xmlns:ds="http://schemas.bpost.be/excell/service/delivery-service/v1/" 
xmlns:mon="http://schemas.bpost.be/excell/common/money/v3" 
xmlns:pa="http://schemas.bpost.be/excell/common/attribute/v3" 
xmlns:pavd="http://schemas.bpost.be/excell/common/attribute-value/v3" 
xmlns:per="http://schemas.bpost.be/excell/common/percentage/v1" 
xmlns:phyadd="http://schemas.bpost.be/excell/common/physical-address/v1">
   <ds:administratriveState>down</ds:administratriveState>
  <ds:billTo>billTo</ds:billTo>
  <ds:deliveryServiceCode>Collect Stamp</ds:deliveryServiceCode>
  <ds:serviceUserName>serviceUserName</ds:serviceUserName>
  <ds:contract>http://tempuri.org</ds:contract>
  <ds:contractExternalNumber>ds:contractExternalNumber</ds:contractExternalNumber>
  <ds:contractingTo>contracTo${=((int)(java.lang.Math.random()*10000))}</ds:contractingTo>
  <ds:contractLine>http://tempuri.org</ds:contractLine>
  <ds:contractLineId>ds:contractLineId</ds:contractLineId>
  <ds:productItem>http://tempuri.org</ds:productItem>
  <ds:startDate>2013-02-02</ds:startDate>
  <ds:endDate>2015-01-01</ds:endDate>
  <ds:productAttributes>
    <pa:attribute>
      <pa:definition>attribute definition 1</pa:definition>
      <pa:code>Customer Name</pa:code>
      <pa:value>
        <pavd:string-value>CustomerName</pavd:string-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 2</pa:definition>
      <pa:code>Comment to MSO</pa:code>
      <pa:value>
        <pavd:string-value>CommenttoMSO</pavd:string-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 3</pa:definition>
      <pa:code>Handling.OperationalId</pa:code>
      <pa:value>
        <pavd:string-value>CS001</pavd:string-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 4</pa:definition>
      <pa:code>Packaging Type</pa:code>
      <pa:value>
        <pavd:enumeration-value>BAG</pavd:enumeration-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 5</pa:definition>
      <pa:code>Collect PDP ID</pa:code>
      <pa:value>
        <pavd:decimal-value>941077</pavd:decimal-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 6</pa:definition>
      <pa:code>Collect PDP Suffix</pa:code>
      <pa:value>
        <pavd:decimal-value>0</pavd:decimal-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 7</pa:definition>
      <pa:code>Collect Start Date</pa:code>
      <pa:value>
        <pavd:date-value>2013-02-02</pavd:date-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 8</pa:definition>
      <pa:code>Collect End Date</pa:code>
      <pa:value>
        <pavd:date-value>2015-01-01</pavd:date-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 9</pa:definition>
      <pa:code>Temporary Stop Holidays End Date</pa:code>
      <pa:value>
        <pavd:date-value>2013-02-02</pavd:date-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 10</pa:definition>
      <pa:code>Secured Pickup</pa:code>
      <pa:value>
        <pavd:enumeration-value>Yes</pavd:enumeration-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 11</pa:definition>
      <pa:code>Collect Volume-Weight</pa:code>
      <pa:value>
        <pavd:enumeration-value>150</pavd:enumeration-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 12</pa:definition>
      <pa:code>Collect Day - Monday</pa:code>
      <pa:value>
        <pavd:enumeration-value>yes</pavd:enumeration-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 13</pa:definition>
      <pa:code>Collect Day - Tuesday</pa:code>
      <pa:value>
        <pavd:enumeration-value>no</pavd:enumeration-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 14</pa:definition>
      <pa:code>Collect Day - Wednesday</pa:code>
      <pa:value>
        <pavd:enumeration-value>yes</pavd:enumeration-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 15</pa:definition>
      <pa:code>Collect Day - Thursday</pa:code>
      <pa:value>
        <pavd:enumeration-value>no</pavd:enumeration-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 16</pa:definition>
      <pa:code>Collect Day - Friday</pa:code>
      <pa:value>
        <pavd:enumeration-value>no</pavd:enumeration-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 17</pa:definition>
      <pa:code>Early Collect Day</pa:code>
      <pa:value>
        <pavd:enumeration-value>mon</pavd:enumeration-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 18</pa:definition>
      <pa:code>Early Collect Requested Time Window</pa:code>
      <pa:value>
        <pavd:enumeration-value>12:00 - 14:00</pavd:enumeration-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 19</pa:definition>
      <pa:code>Early Collect Prefered Hour</pa:code>
      <pa:value>
        <pavd:string-value>12:00</pavd:string-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 20</pa:definition>
      <pa:code>startDate</pa:code>
      <pa:value>
        <pavd:date-value>2013-10-10</pavd:date-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 21</pa:definition>
      <pa:code>Comment from MSO</pa:code>
      <pa:value>
        <pavd:string-value>CommentfromMSO</pavd:string-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 22</pa:definition>
      <pa:code>Requested Collect Window</pa:code>
      <pa:value>
        <pavd:enumeration-value>12:00 - 14:00</pavd:enumeration-value>
      </pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>attribute definition 23</pa:definition>
      <pa:code>Requested Prefered Collect Hour</pa:code>
      <pa:value>
        <pavd:string-value>12:00</pavd:string-value>
      </pa:value>
    </pa:attribute>
  </ds:productAttributes>
</ds:deliveryServiceInfo>
]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request><con:request name="Collect Stamp" mediaType="application/vnd.bpost.excell.service.top-delivery-service.v1+xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request><![CDATA[<ns9:topDeliveryServiceInfo xmlns:ns2="http://schemas.bpost.be/excell/common/attribute/v3" 
	xmlns:ns4="http://schemas.bpost.be/excell/common/percentage/v1" 
	xmlns:ns3="http://schemas.bpost.be/excell/common/attribute-value/v3" 
	xmlns:ns9="http://schemas.bpost.be/excell/service/top-delivery-service/v1/" 
	xmlns:ns5="http://schemas.bpost.be/excell/common/physical-address/v1" 
	xmlns:ns6="http://schemas.bpost.be/excell/common/money/v3" 
	xmlns:ns7="http://schemas.bpost.be/excell/common/type-definitions/v2" 
	xmlns:ns8="http://schemas.bpost.be/excell/common/unit-of-measurement/V1">
   <contractLineId>contractLineId</contractLineId>
   <deliveryServiceCode>Collect Stamp</deliveryServiceCode>
   <productItem>product/item/uri</productItem>
   <attributes>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Customer%20Name</ns2:definition>
         <ns2:code>Customer Name</ns2:code>
         <ns2:value>
            <ns3:string-value>FromDSM</ns3:string-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Workflow</ns2:definition>
         <ns2:code>Collect Workflow</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>COLLECT_AND_STAMP</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Comment%20To%20MSO</ns2:definition>
         <ns2:code>Comment To MSO</ns2:code>
         <ns2:value>
            <ns3:string-value>CommenttoMSO</ns3:string-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Packaging%20Type</ns2:definition>
         <ns2:code>Packaging Type</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>BAG</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Pickup%20PDP%20ID</ns2:definition>
         <ns2:code>Pickup PDP ID</ns2:code>
         <ns2:value>
            <ns3:decimal-value>941077</ns3:decimal-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Pickup%20PDP%20Suffix</ns2:definition>
         <ns2:code>Pickup PDP Suffix</ns2:code>
         <ns2:value>
            <ns3:decimal-value>0</ns3:decimal-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Volume-Weight</ns2:definition>
         <ns2:code>Collect Volume-Weight</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>&lt; 500kg &amp; &lt; 1,5m3</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20End%20Date</ns2:definition>
         <ns2:code>Collect End Date</ns2:code>
         <ns2:value>
            <ns3:date-value>2015-04-05</ns3:date-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Start%20Date</ns2:definition>
         <ns2:code>Collect Start Date</ns2:code>
         <ns2:value>
            <ns3:date-value>2013-04-05</ns3:date-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Monday</ns2:definition>
         <ns2:code>Collect Day - Monday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Tuesday</ns2:definition>
         <ns2:code>Collect Day - Tuesday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Wednesday</ns2:definition>
         <ns2:code>Collect Day - Wednesday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Thursday</ns2:definition>
         <ns2:code>Collect Day - Thursday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Friday</ns2:definition>
         <ns2:code>Collect Day - Friday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Requested%20Collect%20Window</ns2:definition>
         <ns2:code>Requested Collect Window</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>12:00 - 14:00</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Requested%20Prefered%20Collect%20Hour</ns2:definition>
         <ns2:code>Requested Prefered Collect Hour</ns2:code>
         <ns2:value>
            <ns3:string-value>12:00</ns3:string-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Early%20Collect%20Day</ns2:definition>
         <ns2:code>Early Collect Day</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>mon</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Early%20Collect%20Requested%20Time%20Window</ns2:definition>
         <ns2:code>Early Collect Requested Time Window</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>12:00 - 14:00</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Early%20Collect%20Prefered%20Hour</ns2:definition>
         <ns2:code>Early Collect Prefered Hour</ns2:code>
         <ns2:value>
            <ns3:string-value>12:00</ns3:string-value>
         </ns2:value>
      </ns2:attribute>
   </attributes>
   <billTo>billTo</billTo>
   <contract>http://contract/uri</contract>
   <contractExternalNumber>contractExternalNumber</contractExternalNumber>
   <contractingTo>contracTo${=((int)(java.lang.Math.random()*10000))}</contractingTo>
   <contractLine>http://contract/line/uri</contractLine>
   <defaultServiceUserLabel>serviceUserName</defaultServiceUserLabel>
   <plannedClosedDate>2015-04-05</plannedClosedDate>
   <plannedStartDate>2013-04-05</plannedStartDate>
   <subDeliveryServiceInfoCollection>
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Starterskit Collect &amp; Stamp</deliveryServiceCode>
         <productItem>product/item/uri</productItem>         
      </subDeliveryServiceInfos>
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Labels PPO</deliveryServiceCode>
         <productItem>product/item/uri</productItem>         
      </subDeliveryServiceInfos>
      <!--<subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Collect Temporary Stop</deliveryServiceCode>
         <productItem>product/item/uri</productItem>
         <attributes>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Temporary%20Stop%20Holidays%20Start%20Date</ns2:definition>
               <ns2:code>Temporary Stop Holidays Start Date</ns2:code>
               <ns2:value>
                  <ns3:date-value>2013-06-06</ns3:date-value>
               </ns2:value>
            </ns2:attribute>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Temporary%20Stop%20Holidays%20End%20Date</ns2:definition>
               <ns2:code>Temporary Stop Holidays End Date</ns2:code>
               <ns2:value>
                  <ns3:date-value>2013-09-06</ns3:date-value>
               </ns2:value>
            </ns2:attribute>
         </attributes>
      </subDeliveryServiceInfos>
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Collect Temporary Stop</deliveryServiceCode>
         <productItem>product/item/uri</productItem>
         <attributes>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Temporary%20Stop%20Holidays%20Start%20Date</ns2:definition>
               <ns2:code>Temporary Stop Holidays Start Date</ns2:code>
               <ns2:value>
                  <ns3:date-value>2013-11-06</ns3:date-value>
               </ns2:value>
            </ns2:attribute>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Temporary%20Stop%20Holidays%20End%20Date</ns2:definition>
               <ns2:code>Temporary Stop Holidays End Date</ns2:code>
               <ns2:value>
                  <ns3:date-value>2014-01-06</ns3:date-value>
               </ns2:value>
            </ns2:attribute>
         </attributes>
      </subDeliveryServiceInfos>-->
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Collect PPO Secured Pickup</deliveryServiceCode>
         <productItem>product/item/uri</productItem>
         <attributes>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Secured%20Pickup</ns2:definition>
               <ns2:code>Secured Pickup</ns2:code>
               <ns2:value>
                  <ns3:enumeration-value>Yes</ns3:enumeration-value>
               </ns2:value>
            </ns2:attribute>
         </attributes>
      </subDeliveryServiceInfos>
   </subDeliveryServiceInfoCollection>
</ns9:topDeliveryServiceInfo>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request><con:request name="Collect Send" mediaType="application/vnd.bpost.excell.service.top-delivery-service.v1+xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request><![CDATA[<ns9:topDeliveryServiceInfo xmlns:ns2="http://schemas.bpost.be/excell/common/attribute/v3" 
	xmlns:ns4="http://schemas.bpost.be/excell/common/percentage/v1" 
	xmlns:ns3="http://schemas.bpost.be/excell/common/attribute-value/v3" 
	xmlns:ns9="http://schemas.bpost.be/excell/service/top-delivery-service/v1/" 
	xmlns:ns5="http://schemas.bpost.be/excell/common/physical-address/v1" 
	xmlns:ns6="http://schemas.bpost.be/excell/common/money/v3" 
	xmlns:ns7="http://schemas.bpost.be/excell/common/type-definitions/v2" 
	xmlns:ns8="http://schemas.bpost.be/excell/common/unit-of-measurement/V1">
   <contractLineId>contractLineId</contractLineId>
   <deliveryServiceCode>Collect Stamp</deliveryServiceCode>
   <productItem>product/item/uri</productItem>
   <attributes>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Customer%20Name</ns2:definition>
         <ns2:code>Customer Name</ns2:code>
         <ns2:value>
            <ns3:string-value>FromDSM</ns3:string-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Workflow</ns2:definition>
         <ns2:code>Collect Workflow</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>COLLECT_AND_STAMP</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Comment%20To%20MSO</ns2:definition>
         <ns2:code>Comment To MSO</ns2:code>
         <ns2:value>
            <ns3:string-value>CommenttoMSO</ns3:string-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Packaging%20Type</ns2:definition>
         <ns2:code>Packaging Type</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>BAG</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Pickup%20PDP%20ID</ns2:definition>
         <ns2:code>Pickup PDP ID</ns2:code>
         <ns2:value>
            <ns3:decimal-value>941077</ns3:decimal-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Pickup%20PDP%20Suffix</ns2:definition>
         <ns2:code>Pickup PDP Suffix</ns2:code>
         <ns2:value>
            <ns3:decimal-value>0</ns3:decimal-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Volume-Weight</ns2:definition>
         <ns2:code>Collect Volume-Weight</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>&lt; 500kg &amp; &lt; 1,5m3</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20End%20Date</ns2:definition>
         <ns2:code>Collect End Date</ns2:code>
         <ns2:value>
            <ns3:date-value>2015-04-05</ns3:date-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Start%20Date</ns2:definition>
         <ns2:code>Collect Start Date</ns2:code>
         <ns2:value>
            <ns3:date-value>2013-04-05</ns3:date-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Monday</ns2:definition>
         <ns2:code>Collect Day - Monday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Tuesday</ns2:definition>
         <ns2:code>Collect Day - Tuesday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Wednesday</ns2:definition>
         <ns2:code>Collect Day - Wednesday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Thursday</ns2:definition>
         <ns2:code>Collect Day - Thursday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Friday</ns2:definition>
         <ns2:code>Collect Day - Friday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Requested%20Collect%20Window</ns2:definition>
         <ns2:code>Requested Collect Window</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>12:00 - 14:00</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Requested%20Prefered%20Collect%20Hour</ns2:definition>
         <ns2:code>Requested Prefered Collect Hour</ns2:code>
         <ns2:value>
            <ns3:string-value>12:00</ns3:string-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Early%20Collect%20Day</ns2:definition>
         <ns2:code>Early Collect Day</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>mon</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Early%20Collect%20Requested%20Time%20Window</ns2:definition>
         <ns2:code>Early Collect Requested Time Window</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>12:00 - 14:00</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Early%20Collect%20Prefered%20Hour</ns2:definition>
         <ns2:code>Early Collect Prefered Hour</ns2:code>
         <ns2:value>
            <ns3:string-value>12:00</ns3:string-value>
         </ns2:value>
      </ns2:attribute>
   </attributes>
   <billTo>billTo</billTo>
   <contract>http://contract/uri</contract>
   <contractExternalNumber>contractExternalNumber</contractExternalNumber>
   <contractingTo>contracTo${=((int)(java.lang.Math.random()*10000))}</contractingTo>
   <contractLine>http://contract/line/uri</contractLine>
   <defaultServiceUserLabel>serviceUserName</defaultServiceUserLabel>
   <plannedClosedDate>2015-04-05</plannedClosedDate>
   <plannedStartDate>2013-04-05</plannedStartDate>
   <subDeliveryServiceInfoCollection>
      <!--<subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Collect Temporary Stop</deliveryServiceCode>
         <productItem>product/item/uri</productItem>
         <attributes>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Temporary%20Stop%20Holidays%20Start%20Date</ns2:definition>
               <ns2:code>Temporary Stop Holidays Start Date</ns2:code>
               <ns2:value>
                  <ns3:date-value>2013-06-06</ns3:date-value>
               </ns2:value>
            </ns2:attribute>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Temporary%20Stop%20Holidays%20End%20Date</ns2:definition>
               <ns2:code>Temporary Stop Holidays End Date</ns2:code>
               <ns2:value>
                  <ns3:date-value>2013-09-06</ns3:date-value>
               </ns2:value>
            </ns2:attribute>
         </attributes>
      </subDeliveryServiceInfos>
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Collect Temporary Stop</deliveryServiceCode>
         <productItem>product/item/uri</productItem>
         <attributes>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Temporary%20Stop%20Holidays%20Start%20Date</ns2:definition>
               <ns2:code>Temporary Stop Holidays Start Date</ns2:code>
               <ns2:value>
                  <ns3:date-value>2013-11-06</ns3:date-value>
               </ns2:value>
            </ns2:attribute>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Temporary%20Stop%20Holidays%20End%20Date</ns2:definition>
               <ns2:code>Temporary Stop Holidays End Date</ns2:code>
               <ns2:value>
                  <ns3:date-value>2014-01-06</ns3:date-value>
               </ns2:value>
            </ns2:attribute>
         </attributes>
      </subDeliveryServiceInfos>-->
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Collect PPO Secured Pickup</deliveryServiceCode>
         <productItem>product/item/uri</productItem>
         <attributes>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Secured%20Pickup</ns2:definition>
               <ns2:code>Secured Pickup</ns2:code>
               <ns2:value>
                  <ns3:enumeration-value>Yes</ns3:enumeration-value>
               </ns2:value>
            </ns2:attribute>
         </attributes>
      </subDeliveryServiceInfos>
   </subDeliveryServiceInfoCollection>
</ns9:topDeliveryServiceInfo>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request><con:request name="Handling &amp; Franking PPO" mediaType="application/vnd.bpost.excell.service.top-delivery-service.v1+xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request><![CDATA[<ns9:topDeliveryServiceInfo xmlns:pa="http://schemas.bpost.be/excell/common/attribute/v3" 
    xmlns:ns4="http://schemas.bpost.be/excell/common/percentage/v1" 
    xmlns:pavd="http://schemas.bpost.be/excell/common/attribute-value/v3" 
    xmlns:ns9="http://schemas.bpost.be/excell/service/top-delivery-service/v1/" 
    xmlns:phyadd="http://schemas.bpost.be/excell/common/physical-address/v1" 
    xmlns:ns6="http://schemas.bpost.be/excell/common/money/v3" 
    xmlns:ns7="http://schemas.bpost.be/excell/common/type-definitions/v2" 
    xmlns:ns8="http://schemas.bpost.be/excell/common/unit-of-measurement/V1">
   <contractLineId>contractLineId</contractLineId>
   <deliveryServiceCode>Handling &amp; Franking PPO</deliveryServiceCode>
   <productItem>product/item/uri</productItem>
   <attributes>
      <pa:attribute>
         <pa:definition>http://bpost.be/bss/product/definition/parcelAccountId</pa:definition>
         <pa:code>Parcel Account ID</pa:code>
         <pa:value><pavd:string-value>12345678901234567890</pavd:string-value></pa:value>
       </pa:attribute>
       <pa:attribute>
         <pa:definition>http://bpost.be/bss/product/definition/parcelVasCode</pa:definition>
         <pa:code>Parcel VAS Code</pa:code>
         <pa:value><pavd:string-value>666</pavd:string-value></pa:value>
       </pa:attribute>
       <pa:attribute>
         <pa:definition>http://bpost.be/bss/product/definition/RetourAddress</pa:definition>
         <pa:code>Retour Address</pa:code>
         <pa:value>
           <pavd:physicalAddress-v1-value>
               <phyadd:streetName>rue du trou perdu</phyadd:streetName>
               <phyadd:houseNumber>47</phyadd:houseNumber>
               <phyadd:box>5</phyadd:box>
               <phyadd:postalCode>5030</phyadd:postalCode>
               <phyadd:municipality>Gembloux</phyadd:municipality>
               <phyadd:countryCode>BE</phyadd:countryCode>
           </pavd:physicalAddress-v1-value>
         </pa:value>
       </pa:attribute>
   </attributes>
   <billTo>billTo</billTo>
   <contract>http://contract/uri</contract>
   <contractExternalNumber>${=((int)(java.lang.Math.random()*10000))}</contractExternalNumber>
   <contractingTo>${=((int)(java.lang.Math.random()*10000))}</contractingTo>
   <contractLine>${=((int)(java.lang.Math.random()*10000))}</contractLine>
   <defaultServiceUserLabel>serviceUserName</defaultServiceUserLabel>
   <plannedClosedDate>2015-04-05</plannedClosedDate>
   <plannedStartDate>2013-04-05</plannedStartDate>
   <subDeliveryServiceInfoCollection>
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Starterskit Collect &amp; Stamp</deliveryServiceCode>
         <productItem>product/item/uri</productItem>         
      </subDeliveryServiceInfos>
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Labels PPO</deliveryServiceCode>
         <productItem>product/item/uri</productItem>         
      </subDeliveryServiceInfos>     
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Franking PPO</deliveryServiceCode>
         <productItem>product/item/uri</productItem>         
         <subDeliveryServiceInfoCollection>
            <subDeliveryServiceInfos>
               <contractLineId>contractLineId</contractLineId>
               <deliveryServiceCode>Mail</deliveryServiceCode>
               <productItem>product/item/uri</productItem>                
            </subDeliveryServiceInfos>
            <subDeliveryServiceInfos>
               <contractLineId>contractLineId</contractLineId>
               <deliveryServiceCode>Bpack</deliveryServiceCode>
               <productItem>product/item/uri</productItem>
            </subDeliveryServiceInfos>
         </subDeliveryServiceInfoCollection>
      </subDeliveryServiceInfos>
   </subDeliveryServiceInfoCollection>
</ns9:topDeliveryServiceInfo>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request><con:request name="Handling &amp; Franking PPO Public" mediaType="application/vnd.bpost.excell.service.top-delivery-service.v1+xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request><![CDATA[<ns9:topDeliveryServiceInfo xmlns:pa="http://schemas.bpost.be/excell/common/attribute/v3" 
    xmlns:ns4="http://schemas.bpost.be/excell/common/percentage/v1" 
    xmlns:pavd="http://schemas.bpost.be/excell/common/attribute-value/v3" 
    xmlns:ns9="http://schemas.bpost.be/excell/service/top-delivery-service/v1/" 
    xmlns:phyadd="http://schemas.bpost.be/excell/common/physical-address/v1" 
    xmlns:ns6="http://schemas.bpost.be/excell/common/money/v3" 
    xmlns:ns7="http://schemas.bpost.be/excell/common/type-definitions/v2" 
    xmlns:ns8="http://schemas.bpost.be/excell/common/unit-of-measurement/V1">
   <contractLineId>contractLineId</contractLineId>
   <deliveryServiceCode>Handling &amp; Franking PPO Public</deliveryServiceCode>
   <productItem>product/item/uri</productItem>
   <attributes>
      <pa:attribute>
         <pa:definition>http://bpost.be/bss/product/definition/parcelAccountId</pa:definition>
         <pa:code>Parcel Account ID</pa:code>
         <pa:value><pavd:string-value>12345678901234567890</pavd:string-value></pa:value>
       </pa:attribute>
       <pa:attribute>
         <pa:definition>http://bpost.be/bss/product/definition/parcelVasCode</pa:definition>
         <pa:code>Parcel VAS Code</pa:code>
         <pa:value><pavd:string-value>666</pavd:string-value></pa:value>
       </pa:attribute>
       <pa:attribute>
         <pa:definition>http://bpost.be/bss/product/definition/RetourAddress</pa:definition>
         <pa:code>Retour Address</pa:code>
         <pa:value>
           <pavd:physicalAddress-v1-value>
               <phyadd:streetName>rue du trou perdu</phyadd:streetName>
               <phyadd:houseNumber>47</phyadd:houseNumber>
               <phyadd:box>5</phyadd:box>
               <phyadd:postalCode>5030</phyadd:postalCode>
               <phyadd:municipality>Gembloux</phyadd:municipality>
               <phyadd:countryCode>BE</phyadd:countryCode>
           </pavd:physicalAddress-v1-value>
         </pa:value>
       </pa:attribute>
   </attributes>
   <billTo>billTo</billTo>
   <contract>http://contract/uri</contract>
   <contractExternalNumber>${=((int)(java.lang.Math.random()*10000))}</contractExternalNumber>
   <contractingTo>${=((int)(java.lang.Math.random()*10000))}</contractingTo>
   <contractLine>${=((int)(java.lang.Math.random()*10000))}</contractLine>
   <defaultServiceUserLabel>serviceUserName</defaultServiceUserLabel>
   <plannedClosedDate>2015-04-05</plannedClosedDate>
   <plannedStartDate>2013-04-05</plannedStartDate>
   <subDeliveryServiceInfoCollection>
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Starterskit Collect &amp; Stamp</deliveryServiceCode>
         <productItem>product/item/uri</productItem>         
      </subDeliveryServiceInfos>
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Labels PPO</deliveryServiceCode>
         <productItem>product/item/uri</productItem>         
      </subDeliveryServiceInfos>     
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Franking PPO</deliveryServiceCode>
         <productItem>product/item/uri</productItem>         
         <subDeliveryServiceInfoCollection>
            <subDeliveryServiceInfos>
               <contractLineId>contractLineId</contractLineId>
               <deliveryServiceCode>Mail</deliveryServiceCode>
               <productItem>product/item/uri</productItem>                
            </subDeliveryServiceInfos>
            <subDeliveryServiceInfos>
               <contractLineId>contractLineId</contractLineId>
               <deliveryServiceCode>Bpack</deliveryServiceCode>
               <productItem>product/item/uri</productItem>
            </subDeliveryServiceInfos>
         </subDeliveryServiceInfoCollection>
      </subDeliveryServiceInfos>
   </subDeliveryServiceInfoCollection>
</ns9:topDeliveryServiceInfo>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="Tasks resource" path="/bss/dsm/delivery-services/tasks"><con:settings/><con:parameters/><con:method name="Get default" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>*/*</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="Get with count" method="GET"><con:settings/><con:parameters><con:parameter><con:name>count</con:name><con:value/><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:representation type="RESPONSE"><con:mediaType>*/*</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="count" value="20" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method><con:method name="Get with state" method="GET"><con:settings/><con:parameters><con:parameter><con:name>state</con:name><con:value/><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:representation type="RESPONSE"><con:mediaType>*/*</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>*/*</con:mediaType><con:status>400</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="state" value="BUSY" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource><con:resource name="sanity-test" path="sanity-test"><con:settings/><con:parameters/><con:resource name="sanity-test-details" path="/details"><con:settings/><con:parameters/><con:method name="Get" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>*/*</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="queue" path="queue"><con:settings/><con:parameters/><con:method name="run" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=ISO-8859-1</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:method name="performSanityTest" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/vnd.bpost.excell.common.sanity-test.v1+xml</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:v1="http://schemas.bpost.be/excell/common/sanity-test/v1">v1:sanityTest</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite name="TestSuite"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="(deprecated) Test PPO integration" searchProperties="true" id="9961f3d6-457f-4222-ab17-04de9c0479f4" disabled="true"><con:settings/><con:testStep type="restrequest" name="Submit Create Task"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services" methodName="Create" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Submit Create Task" mediaType="application/vnd.bpost.excell.service.delivery-service.v1+xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<ds:deliveryServiceInfo 
xmlns:ctd="http://schemas.bpost.be/excell/common/type-definitions/v2" 
xmlns:ds="http://schemas.bpost.be/excell/service/delivery-service/v1/" 
xmlns:mon="http://schemas.bpost.be/excell/common/money/v3" 
xmlns:pa="http://schemas.bpost.be/excell/common/attribute/v3" 
xmlns:pavd="http://schemas.bpost.be/excell/common/attribute-value/v3" 
xmlns:per="http://schemas.bpost.be/excell/common/percentage/v1" 
xmlns:phyadd="http://schemas.bpost.be/excell/common/physical-address/v1" 
xmlns:sur="http://schemas.bpost.be/excell/service-user/v1" 
xmlns:uom="http://schemas.bpost.be/excell/common/unit-of-measurement/V1" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ds:administratriveState>down</ds:administratriveState>
  <ds:billTo>billTo</ds:billTo>
  <ds:deliveryServiceCode>SSC Franking Reminder Letter</ds:deliveryServiceCode>
  <ds:serviceUserName>serviceUserName${=((int)(java.lang.Math.random()*10000))}</ds:serviceUserName>
  <ds:contract>conctract${=((int)(java.lang.Math.random()*10000))}</ds:contract>
  <ds:contractExternalNumber>extContract${=((int)(java.lang.Math.random()*10000))}</ds:contractExternalNumber>
  <ds:contractingTo>${=((int)(java.lang.Math.random()*10000))}</ds:contractingTo>
  <ds:contractLine>http://tempuri.org</ds:contractLine>
  <ds:contractLineId>contractLine${=((int)(java.lang.Math.random()*10000))}</ds:contractLineId>
  <ds:productItem>http://tempuri.org</ds:productItem>
  <ds:startDate>2014-01-01</ds:startDate>
  <ds:endDate>2015-01-01</ds:endDate>
  <ds:productAttributes>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/parcelAccountId</pa:definition>
      <pa:code>Parcel Account ID</pa:code>
      <pa:value><pavd:string-value>12345678901234567890</pavd:string-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/parcelVasCode</pa:definition>
      <pa:code>Parcel VAS Code</pa:code>
      <pa:value><pavd:string-value>666</pavd:string-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/RetourAddress</pa:definition>
      <pa:code>Retour Address</pa:code>
      <pa:value>
        <pavd:physicalAddress-v1-value>
            <phyadd:streetName>rue du trou perdu</phyadd:streetName>
            <phyadd:houseNumber>47</phyadd:houseNumber>
            <phyadd:box>5</phyadd:box>
            <phyadd:postalCode>5030</phyadd:postalCode>
            <phyadd:municipality>Gembloux</phyadd:municipality>
            <phyadd:countryCode>BE</phyadd:countryCode>
        </pavd:physicalAddress-v1-value>
      </pa:value>
    </pa:attribute>
  </ds:productAttributes>
</ds:deliveryServiceInfo>]]></con:request><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';
//ns3:state='pending'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Extract taskId"><con:settings/><con:config><script>def newUri = testRunner.testCase.testSteps["Submit Create Task"].testRequest.response.responseHeaders["Location"][0]
def taskId = newUri.substring(newUri.lastIndexOf("/")+1)

testRunner.testCase.setPropertyValue("createTaskId", taskId);
taskId</script></con:config></con:testStep><con:testStep type="restrequest" name="Trigger CreateTask" disabled="true"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}/trigger-process" methodName="Trigger" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Trigger CreateTask" mediaType="application/xml" postQueryString="false" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#createTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="PollTask is still pending"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PollTask is still pending" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';
//ns3:state='pending'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#createTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Trigger PollTask" disabled="true"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}/trigger-poll" methodName="Trigger" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Trigger PollTask" mediaType="application/xml" postQueryString="false" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#createTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="Delay 1s"><con:settings/><con:config><delay>7000</delay></con:config></con:testStep><con:testStep type="restrequest" name="PollTask is COMPLETED"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PollTask is COMPLETED" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';
//ns3:state='completed'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#createTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="goto" name="Conditional PollTask"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>isTaskStillPending</con:name><con:type>XPATH</con:type><con:expression>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';

//ns3:state='pending'
</con:expression><con:targetStep>Delay 1s</con:targetStep></con:condition><con:condition><con:name>isTaskCompleted</con:name><con:type>XPATH</con:type><con:expression>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';

//ns3:state='completed'
</con:expression><con:targetStep>Extract dsVersionId and dsId</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="groovy" name="Extract dsVersionId and dsId"><con:settings/><con:config><script>// create groovyUtils and XmlHolder for response of Request 1 request
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def response = testRunner.testCase.testSteps["PollTask is COMPLETED"].testRequest.response;
def responseHolder = groovyUtils.getXmlHolder( response.responseContent )
responseHolder.namespaces["ns"]="http://schemas.bpost.be/excell/common/task/v2";
def newUri = responseHolder.getNodeValue("//ns:result");

def pattern = /delivery-services\/(.*)\/versions\/(.*)/
def m = newUri =~ pattern

def dsId = m[0][1];
def dsVersionId = m[0][2];
testRunner.testCase.setPropertyValue("dsId", dsId);
testRunner.testCase.setPropertyValue("dsVersionId", dsVersionId);
</script></con:config></con:testStep><con:testStep type="restrequest" name="Submit EndDate Task"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/{id}/versions/{versionId}/endDate" methodName="Update" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Submit EndDate Task" mediaType="application/vnd.bpost.excell.service.delivery-service-end-date.v1+xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request>&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;cdse:deliveryServiceEndDateInfo xmlns:cdse="http://schemas.bpost.be/excell/service/delivery-service-end-date/v1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  &lt;endDate>2014-10-01&lt;/endDate>
&lt;/cdse:deliveryServiceEndDateInfo>
</con:request><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';
//ns3:state='pending'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="${#TestCase#dsId}"/>
  <con:entry key="versionId" value="${#TestCase#dsVersionId}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Extract taskId EndDateTask"><con:settings/><con:config><script>def newUri = testRunner.testCase.testSteps["Submit EndDate Task"].testRequest.response.responseHeaders["Location"][0]
def taskId = newUri.substring(newUri.lastIndexOf("/")+1)

testRunner.testCase.setPropertyValue("endDateTaskId", taskId);
taskId</script></con:config></con:testStep><con:testStep type="restrequest" name="Trigger EndDateTask" disabled="true"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}/trigger-process" methodName="Trigger" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Trigger EndDateTask" mediaType="application/xml" postQueryString="false" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#endDateTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Poll EndDateTask Pending"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Poll EndDateTask Pending" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';
//ns3:state='pending'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#endDateTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Trigger PollEndDateTask" disabled="true"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}/trigger-poll" methodName="Trigger" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Trigger PollEndDateTask" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#endDateTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="Delay afted trigger process task"><con:settings/><con:config><delay>1000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Poll EndDateTask COMPLETED"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Poll EndDateTask COMPLETED" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';
//ns3:state='completed'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#endDateTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Check EndDate is set"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/{id}/versions/{versionId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Check EndDate is set" mediaType="application/xml">
      <con:settings>
        <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
      </con:settings>
      <con:endpoint>http://dsm-dv2.netpost</con:endpoint>
      <con:request/>
      <con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns5='http://schemas.bpost.be/excell/common/physical-address/v1';
declare namespace ns9='http://schemas.bpost.be/excell/service/delivery-service/v1/';
declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v3';
declare namespace ns4='http://schemas.bpost.be/excell/common/percentage/v1';
declare namespace ns8='http://schemas.bpost.be/excell/common/unit-of-measurement/V1';
declare namespace ns7='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/attribute-value/v3';
declare namespace ns10='http://schemas.bpost.be/excell/service/delivery-service/end-date/v1';
declare namespace ns6='http://schemas.bpost.be/excell/common/money/v3';

//ns9:endDate</path><content>2014-10-*</content><allowWildcards>true</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials>
        <con:authType>Global HTTP Settings</con:authType>
      </con:credentials>
      <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
      <con:jmsPropertyConfig/>
      <con:parameters>
  <con:entry key="id" value="${#TestCase#dsId}"/>
  <con:entry key="versionId" value="${#TestCase#dsVersionId}"/>
</con:parameters>
    </con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Submit Cancel Task"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/{id}/versions/{versionId}/cancelled" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Submit Cancel Task" mediaType="application/xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';
//ns3:state='pending'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="${#TestCase#dsId}"/>
  <con:entry key="versionId" value="${#TestCase#dsVersionId}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Extract taskId CancelTask"><con:settings/><con:config><script>def newUri = testRunner.testCase.testSteps["Submit Cancel Task"].testRequest.response.responseHeaders["Location"][0]
def taskId = newUri.substring(newUri.lastIndexOf("/")+1)

testRunner.testCase.setPropertyValue("cancelTaskId", taskId);
taskId</script></con:config></con:testStep><con:testStep type="restrequest" name="Trigger CancelTask" disabled="true"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}/trigger-process" methodName="Trigger" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Trigger CancelTask" mediaType="application/xml" postQueryString="false" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#cancelTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="DelayCompleted"><con:settings/><con:config><delay>3000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Poll CancelTask COMPLETED"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Poll CancelTask COMPLETED" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';
//ns3:state='completed'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#cancelTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Check Service is Canceled"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/{id}/versions/{versionId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Check Service is Canceled" mediaType="application/xml">
      <con:settings>
        <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
      </con:settings>
      <con:endpoint>http://dsm-dv2.netpost</con:endpoint>
      <con:request/>
      <con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns5='http://schemas.bpost.be/excell/common/physical-address/v1';
declare namespace ns9='http://schemas.bpost.be/excell/service/delivery-service/v1/';
declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v3';
declare namespace ns4='http://schemas.bpost.be/excell/common/percentage/v1';
declare namespace ns8='http://schemas.bpost.be/excell/common/unit-of-measurement/V1';
declare namespace ns7='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/attribute-value/v3';
declare namespace ns10='http://schemas.bpost.be/excell/service/delivery-service/end-date/v1';
declare namespace ns6='http://schemas.bpost.be/excell/common/money/v3';

//ns9:operationalState</path><content>inactive</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials>
        <con:authType>Global HTTP Settings</con:authType>
      </con:credentials>
      <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
      <con:jmsPropertyConfig/>
      <con:parameters>
  <con:entry key="id" value="${#TestCase#dsId}"/>
  <con:entry key="versionId" value="${#TestCase#dsVersionId}"/>
</con:parameters>
    </con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>createTaskId</con:name><con:value>af86303d-280b-4c40-91bd-5b4a98431112</con:value></con:property><con:property><con:name>dsId</con:name><con:value>f1a09601-0979-4460-babf-d1a5265f9c8d</con:value></con:property><con:property><con:name>dsVersionId</con:name><con:value>727c0757-762f-40ba-9506-42eb4a0cbb60</con:value></con:property><con:property><con:name>endDateTaskId</con:name><con:value>15af03d3-1f70-494a-9dc5-914c2837fcb8</con:value></con:property><con:property><con:name>cancelTaskId</con:name><con:value>ed8bd2fd-c316-46b4-9f4f-857651879aa6</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="(deprecated) Test POD integration" searchProperties="true" id="fcd6cc41-8c5b-46ce-aabb-1d1aae1e4afb" disabled="true"><con:settings/><con:testStep type="restrequest" name="Submit Create Task"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services" methodName="Create" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Submit Create Task" mediaType="application/vnd.bpost.excell.service.delivery-service.v1+xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<ds:deliveryServiceInfo 
xmlns:ctd="http://schemas.bpost.be/excell/common/type-definitions/v2" 
xmlns:ds="http://schemas.bpost.be/excell/service/delivery-service/v1/" 
xmlns:mon="http://schemas.bpost.be/excell/common/money/v3" 
xmlns:pa="http://schemas.bpost.be/excell/common/attribute/v3" 
xmlns:pavd="http://schemas.bpost.be/excell/common/attribute-value/v3" 
xmlns:per="http://schemas.bpost.be/excell/common/percentage/v1" 
xmlns:phyadd="http://schemas.bpost.be/excell/common/physical-address/v1" 
xmlns:sur="http://schemas.bpost.be/excell/service-user/v1" 
xmlns:uom="http://schemas.bpost.be/excell/common/unit-of-measurement/V1" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <ds:administratriveState>down</ds:administratriveState>
  <ds:billTo>billTo</ds:billTo>
  <ds:deliveryServiceCode>SSC Franking Confirmation Letter</ds:deliveryServiceCode>
  <ds:serviceUserName>serviceUserName</ds:serviceUserName>
  <ds:contract>http://tempuri.org</ds:contract>
  <ds:contractExternalNumber>contract${=((int)(java.lang.Math.random()*10000))}</ds:contractExternalNumber>
  <ds:contractingTo>${=((int)(java.lang.Math.random()*10000))}</ds:contractingTo>
  <ds:contractLine>http://tempuri.org</ds:contractLine>
  <ds:contractLineId>ds:contractLineId</ds:contractLineId>
  <ds:productItem>http://tempuri.org</ds:productItem>
  <ds:startDate>2014-01-01</ds:startDate>
  <ds:endDate>2015-01-01</ds:endDate>
  <ds:productAttributes>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/paperOnDemand</pa:definition>
      <pa:code>P-POD On Demand</pa:code>
      <pa:value><pavd:boolean-value>false</pavd:boolean-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/electronicOnDemand</pa:definition>
      <pa:code>E-POD On Demand</pa:code>
      <pa:value><pavd:boolean-value>true</pavd:boolean-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/SkipSendEmail</pa:definition>
      <pa:code>E-POD Send No Email</pa:code>
      <pa:value><pavd:boolean-value>false</pavd:boolean-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/CustomerReference</pa:definition>
      <pa:code>Customer Reference</pa:code>
      <pa:value><pavd:string-value>PRIOR</pavd:string-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/EmailDeliveryFrequency</pa:definition>
      <pa:code>E-POD Delivery Frequency</pa:code>
      <pa:value><pavd:string-value>DAILY</pavd:string-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/PaperDeliveryFrequency</pa:definition>
      <pa:code>P-POD Delivery Frequency</pa:code>
      <pa:value><pavd:string-value>NO</pavd:string-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/DestinationName</pa:definition>
      <pa:code>E-POD Destination Name</pa:code>
      <pa:value><pavd:string-value>Destination Name</pavd:string-value></pa:value>
    </pa:attribute>
     <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/CompanyOrganisationName</pa:definition>
      <pa:code>Company Organisation Name</pa:code>
      <pa:value><pavd:string-value>MyCompany Organisation Name</pavd:string-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/EmailRecipients</pa:definition>
      <pa:code>E-POD Destination Email Addresses</pa:code>
      <pa:value><pavd:string-value>dimitri.dhooge@bpost.be;dimitri.dhooge@post.be</pavd:string-value></pa:value>
    </pa:attribute>
    <pa:attribute>
      <pa:definition>http://bpost.be/bss/product/definition/DestinationAddress</pa:definition>
      <pa:code>P-POD Destination Address</pa:code>
      <pa:value>
        <pavd:physicalAddress-v1-value>
            <phyadd:streetName>rue du trou perdu</phyadd:streetName>
            <phyadd:houseNumber>47</phyadd:houseNumber>
            <phyadd:box>5</phyadd:box>
            <phyadd:postalCode>5030</phyadd:postalCode>
            <phyadd:municipality>Gembloux</phyadd:municipality>
            <phyadd:countryCode>BE</phyadd:countryCode>
        </pavd:physicalAddress-v1-value>
      </pa:value>
    </pa:attribute>
  </ds:productAttributes>
</ds:deliveryServiceInfo>]]></con:request><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';
//ns3:state='pending'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Extract taskId"><con:settings/><con:config><script>def newUri = testRunner.testCase.testSteps["Submit Create Task"].testRequest.response.responseHeaders["Location"][0]
def taskId = newUri.substring(newUri.lastIndexOf("/")+1)

testRunner.testCase.setPropertyValue("createTaskId", taskId);
taskId</script></con:config></con:testStep><con:testStep type="restrequest" name="Trigger CreateTask" disabled="true"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}/trigger-process" methodName="Trigger" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Trigger CreateTask" mediaType="application/xml" postQueryString="false" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#createTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="PollTask is still pending"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PollTask is still pending" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';
//ns3:state='pending'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#createTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Trigger PollTask" disabled="true"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}/trigger-poll" methodName="Trigger" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Trigger PollTask" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#createTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="Delay 1s"><con:settings/><con:config><delay>7000</delay></con:config></con:testStep><con:testStep type="restrequest" name="PollTask is COMPLETED"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PollTask is COMPLETED" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';
//ns3:state='completed'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#createTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="goto" name="Conditional PollTask"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>isTaskStillPending</con:name><con:type>XPATH</con:type><con:expression>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';

//ns3:state='pending'
</con:expression><con:targetStep>Delay 1s</con:targetStep></con:condition><con:condition><con:name>isTaskCompleted</con:name><con:type>XPATH</con:type><con:expression>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';

//ns3:state='completed'
</con:expression><con:targetStep>Extract dsVersionId and dsId</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="groovy" name="Extract dsVersionId and dsId"><con:settings/><con:config><script>// create groovyUtils and XmlHolder for response of Request 1 request
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def response = testRunner.testCase.testSteps["PollTask is COMPLETED"].testRequest.response;
def responseHolder = groovyUtils.getXmlHolder( response.responseContent )
responseHolder.namespaces["ns"]="http://schemas.bpost.be/excell/common/task/v2";
def newUri = responseHolder.getNodeValue("//ns:result");

def pattern = /delivery-services\/(.*)\/versions\/(.*)/
def m = newUri =~ pattern

def dsId = m[0][1];
def dsVersionId = m[0][2];
testRunner.testCase.setPropertyValue("dsId", dsId);
testRunner.testCase.setPropertyValue("dsVersionId", dsVersionId);
</script></con:config></con:testStep><con:testStep type="restrequest" name="Submit EndDate Task"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/{id}/versions/{versionId}/endDate" methodName="Update" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Submit EndDate Task" mediaType="application/vnd.bpost.excell.service.delivery-service-end-date.v1+xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request>&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;cdse:deliveryServiceEndDateInfo xmlns:cdse="http://schemas.bpost.be/excell/service/delivery-service-end-date/v1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.bpost.be/excell/service/delivery-service/end-date/v1 service-endDate-v1.xsd ">
  &lt;endDate>2014-10-01&lt;/endDate>
&lt;/cdse:deliveryServiceEndDateInfo>
</con:request><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';
//ns3:state='pending'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="${#TestCase#dsId}"/>
  <con:entry key="versionId" value="${#TestCase#dsVersionId}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Extract taskId EndDateTask"><con:settings/><con:config><script>def newUri = testRunner.testCase.testSteps["Submit EndDate Task"].testRequest.response.responseHeaders["Location"][0]
def taskId = newUri.substring(newUri.lastIndexOf("/")+1)

testRunner.testCase.setPropertyValue("endDateTaskId", taskId);
taskId</script></con:config></con:testStep><con:testStep type="restrequest" name="Trigger EndDateTask" disabled="true"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}/trigger-process" methodName="Trigger" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Trigger EndDateTask" mediaType="application/xml" postQueryString="false" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#endDateTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Poll EndDateTask Pending"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Poll EndDateTask Pending" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding/><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';
//ns3:state='pending'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#endDateTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Trigger PollEndDateTask" disabled="true"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}/trigger-poll" methodName="Trigger" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Trigger PollEndDateTask" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#endDateTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="Delay afted trigger process task"><con:settings/><con:config><delay>1000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Poll EndDateTask COMPLETED" disabled="true"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Poll EndDateTask COMPLETED" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';
//ns3:state='completed'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#endDateTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Check EndDate is set" disabled="true"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/{id}/versions/{versionId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Check EndDate is set" mediaType="application/xml">
      <con:settings>
        <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
      </con:settings>
      <con:endpoint>http://localhost:8080</con:endpoint>
      <con:request/>
      <con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns5='http://schemas.bpost.be/excell/common/physical-address/v1';
declare namespace ns9='http://schemas.bpost.be/excell/service/delivery-service/v1/';
declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v3';
declare namespace ns4='http://schemas.bpost.be/excell/common/percentage/v1';
declare namespace ns8='http://schemas.bpost.be/excell/common/unit-of-measurement/V1';
declare namespace ns7='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/attribute-value/v3';
declare namespace ns10='http://schemas.bpost.be/excell/service/delivery-service/end-date/v1';
declare namespace ns6='http://schemas.bpost.be/excell/common/money/v3';

//ns9:endDate</path><content>2014-10-*</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials>
        <con:authType>Global HTTP Settings</con:authType>
      </con:credentials>
      <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
      <con:jmsPropertyConfig/>
      <con:parameters>
  <con:entry key="id" value="${#TestCase#dsId}"/>
  <con:entry key="versionId" value="${#TestCase#dsVersionId}"/>
</con:parameters>
    </con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Submit Cancel Task"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/{id}/versions/{versionId}/cancelled" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Submit Cancel Task" mediaType="application/xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';
//ns3:state='pending'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="${#TestCase#dsId}"/>
  <con:entry key="versionId" value="${#TestCase#dsVersionId}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Extract taskId CancelTask"><con:settings/><con:config><script>def newUri = testRunner.testCase.testSteps["Submit Cancel Task"].testRequest.response.responseHeaders["Location"][0]
def taskId = newUri.substring(newUri.lastIndexOf("/")+1)


testRunner.testCase.setPropertyValue("cancelTaskId", taskId);
taskId</script></con:config></con:testStep><con:testStep type="restrequest" name="Trigger CancelTask" disabled="true"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}/trigger-process" methodName="Trigger" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Trigger CancelTask" mediaType="application/xml" postQueryString="false" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#cancelTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="DelayCancelCompleted"><con:settings/><con:config><delay>1000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Poll CancelTask COMPLETED"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Poll CancelTask COMPLETED" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';
//ns3:state='completed'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#cancelTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Check DS is Canceled"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/{id}/versions/{versionId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Check DS is Canceled" mediaType="application/xml">
      <con:settings>
        <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
      </con:settings>
      <con:endpoint>http://dsm-dv2.netpost</con:endpoint>
      <con:request/>
      <con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns5='http://schemas.bpost.be/excell/common/physical-address/v1';
declare namespace ns9='http://schemas.bpost.be/excell/service/delivery-service/v1/';
declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v3';
declare namespace ns4='http://schemas.bpost.be/excell/common/percentage/v1';
declare namespace ns8='http://schemas.bpost.be/excell/common/unit-of-measurement/V1';
declare namespace ns7='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/attribute-value/v3';
declare namespace ns10='http://schemas.bpost.be/excell/service/delivery-service/end-date/v1';
declare namespace ns6='http://schemas.bpost.be/excell/common/money/v3';

//ns9:operationalState</path><content>inactive</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials>
        <con:authType>Global HTTP Settings</con:authType>
      </con:credentials>
      <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
      <con:jmsPropertyConfig/>
      <con:parameters>
  <con:entry key="id" value="${#TestCase#dsId}"/>
  <con:entry key="versionId" value="${#TestCase#dsVersionId}"/>
</con:parameters>
    </con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>createTaskId</con:name><con:value>b00e40bb-c352-47cf-9573-bb39a5736945</con:value></con:property><con:property><con:name>dsId</con:name><con:value>CS000008411000</con:value></con:property><con:property><con:name>dsVersionId</con:name><con:value>1</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Collect Stamp" searchProperties="true" id="f7f9e820-e311-4f2d-80ac-d60610bbf41b"><con:settings/><con:testStep type="restrequest" name="Collect Stamp (Run from here)"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services" methodName="Create" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Collect Stamp (Run from here)" mediaType="application/vnd.bpost.excell.service.top-delivery-service.v1+xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request><![CDATA[<ns9:topDeliveryServiceInfo xmlns:ns2="http://schemas.bpost.be/excell/common/attribute/v3" 
	xmlns:ns4="http://schemas.bpost.be/excell/common/percentage/v1" 
	xmlns:ns3="http://schemas.bpost.be/excell/common/attribute-value/v3" 
	xmlns:ns9="http://schemas.bpost.be/excell/service/top-delivery-service/v1/" 
	xmlns:ns5="http://schemas.bpost.be/excell/common/physical-address/v1" 
	xmlns:ns6="http://schemas.bpost.be/excell/common/money/v3" 
	xmlns:ns7="http://schemas.bpost.be/excell/common/type-definitions/v2" 
	xmlns:ns8="http://schemas.bpost.be/excell/common/unit-of-measurement/V1">
   <contractLineId>contractLineId</contractLineId>
   <deliveryServiceCode>Collect Stamp</deliveryServiceCode>
   <productItem>product/item/uri</productItem>
   <attributes>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Customer%20Name</ns2:definition>
         <ns2:code>Customer Name</ns2:code>
         <ns2:value>
            <ns3:string-value>FromDSM</ns3:string-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Workflow</ns2:definition>
         <ns2:code>Collect Workflow</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>COLLECT_AND_STAMP</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Comment%20To%20MSO</ns2:definition>
         <ns2:code>Comment To MSO</ns2:code>
         <ns2:value>
            <ns3:string-value>CommenttoMSO</ns3:string-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Packaging%20Type</ns2:definition>
         <ns2:code>Packaging Type</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>BAG</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Pickup%20PDP%20ID</ns2:definition>
         <ns2:code>Pickup PDP ID</ns2:code>
         <ns2:value>
            <ns3:decimal-value>941077</ns3:decimal-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Pickup%20PDP%20Suffix</ns2:definition>
         <ns2:code>Pickup PDP Suffix</ns2:code>
         <ns2:value>
            <ns3:decimal-value>0</ns3:decimal-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Volume-Weight</ns2:definition>
         <ns2:code>Collect Volume-Weight</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>&lt; 500kg &amp; &lt; 1,5m3</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20End%20Date</ns2:definition>
         <ns2:code>Collect End Date</ns2:code>
         <ns2:value>
            <ns3:date-value>2015-04-05</ns3:date-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Start%20Date</ns2:definition>
         <ns2:code>Collect Start Date</ns2:code>
         <ns2:value>
            <ns3:date-value>2013-04-05</ns3:date-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Monday</ns2:definition>
         <ns2:code>Collect Day - Monday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Tuesday</ns2:definition>
         <ns2:code>Collect Day - Tuesday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Wednesday</ns2:definition>
         <ns2:code>Collect Day - Wednesday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Thursday</ns2:definition>
         <ns2:code>Collect Day - Thursday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Friday</ns2:definition>
         <ns2:code>Collect Day - Friday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Requested%20Collect%20Window</ns2:definition>
         <ns2:code>Requested Collect Window</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>12:00 - 14:00</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Requested%20Prefered%20Collect%20Hour</ns2:definition>
         <ns2:code>Requested Prefered Collect Hour</ns2:code>
         <ns2:value>
            <ns3:string-value>12:00</ns3:string-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Early%20Collect%20Day</ns2:definition>
         <ns2:code>Early Collect Day</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>mon</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Early%20Collect%20Requested%20Time%20Window</ns2:definition>
         <ns2:code>Early Collect Requested Time Window</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>12:00 - 14:00</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Early%20Collect%20Prefered%20Hour</ns2:definition>
         <ns2:code>Early Collect Prefered Hour</ns2:code>
         <ns2:value>
            <ns3:string-value>12:00</ns3:string-value>
         </ns2:value>
      </ns2:attribute>
   </attributes>
   <billTo>billTo</billTo>
   <contract>http://contract/uri</contract>
   <contractExternalNumber>contractExternalNumber</contractExternalNumber>
   <contractingTo>contracTo${=((int)(java.lang.Math.random()*10000))}</contractingTo>
   <contractLine>http://contract/line/uri</contractLine>
   <defaultServiceUserLabel>serviceUserName</defaultServiceUserLabel>
   <plannedClosedDate>2015-04-05</plannedClosedDate>
   <plannedStartDate>2013-04-05</plannedStartDate>
   <subDeliveryServiceInfoCollection>
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Starterskit Collect &amp; Stamp</deliveryServiceCode>
         <productItem>product/item/uri</productItem>         
      </subDeliveryServiceInfos>
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Labels PPO</deliveryServiceCode>
         <productItem>product/item/uri</productItem>         
      </subDeliveryServiceInfos>
      <!--<subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Collect Temporary Stop</deliveryServiceCode>
         <productItem>product/item/uri</productItem>
         <attributes>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Temporary%20Stop%20Holidays%20Start%20Date</ns2:definition>
               <ns2:code>Temporary Stop Holidays Start Date</ns2:code>
               <ns2:value>
                  <ns3:date-value>2013-06-06</ns3:date-value>
               </ns2:value>
            </ns2:attribute>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Temporary%20Stop%20Holidays%20End%20Date</ns2:definition>
               <ns2:code>Temporary Stop Holidays End Date</ns2:code>
               <ns2:value>
                  <ns3:date-value>2013-09-06</ns3:date-value>
               </ns2:value>
            </ns2:attribute>
         </attributes>
      </subDeliveryServiceInfos>
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Collect Temporary Stop</deliveryServiceCode>
         <productItem>product/item/uri</productItem>
         <attributes>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Temporary%20Stop%20Holidays%20Start%20Date</ns2:definition>
               <ns2:code>Temporary Stop Holidays Start Date</ns2:code>
               <ns2:value>
                  <ns3:date-value>2013-11-06</ns3:date-value>
               </ns2:value>
            </ns2:attribute>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Temporary%20Stop%20Holidays%20End%20Date</ns2:definition>
               <ns2:code>Temporary Stop Holidays End Date</ns2:code>
               <ns2:value>
                  <ns3:date-value>2014-01-06</ns3:date-value>
               </ns2:value>
            </ns2:attribute>
         </attributes>
      </subDeliveryServiceInfos>-->
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Collect PPO Secured Pickup</deliveryServiceCode>
         <productItem>product/item/uri</productItem>
         <attributes>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Secured%20Pickup</ns2:definition>
               <ns2:code>Secured Pickup</ns2:code>
               <ns2:value>
                  <ns3:enumeration-value>Yes</ns3:enumeration-value>
               </ns2:value>
            </ns2:attribute>
         </attributes>
      </subDeliveryServiceInfos>
   </subDeliveryServiceInfoCollection>
</ns9:topDeliveryServiceInfo>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/task/v2';

//ns1:state</path><content>pending</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Extract createTaskId for Collect Stamp"><con:settings/><con:config><script>def newUri = testRunner.testCase.testSteps["Collect Stamp (Run from here)"].testRequest.response.responseHeaders["Location"][0]
def taskId = newUri.substring(newUri.lastIndexOf("/")+1)

testRunner.testCase.setPropertyValue("createTaskId", taskId);

testRunner.gotoStepByName("Confirm request in ROMA")</script></con:config></con:testStep><con:testStep type="restrequest" name="Collect Send (Run from here)"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services" methodName="Create" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Collect Send (Run from here)" mediaType="application/vnd.bpost.excell.service.top-delivery-service.v1+xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request><![CDATA[<ns9:topDeliveryServiceInfo xmlns:ns2="http://schemas.bpost.be/excell/common/attribute/v3" 
	xmlns:ns4="http://schemas.bpost.be/excell/common/percentage/v1" 
	xmlns:ns3="http://schemas.bpost.be/excell/common/attribute-value/v3" 
	xmlns:ns9="http://schemas.bpost.be/excell/service/top-delivery-service/v1/" 
	xmlns:ns5="http://schemas.bpost.be/excell/common/physical-address/v1" 
	xmlns:ns6="http://schemas.bpost.be/excell/common/money/v3" 
	xmlns:ns7="http://schemas.bpost.be/excell/common/type-definitions/v2" 
	xmlns:ns8="http://schemas.bpost.be/excell/common/unit-of-measurement/V1">
   <contractLineId>contractLineId</contractLineId>
   <deliveryServiceCode>Collect Stamp</deliveryServiceCode>
   <productItem>product/item/uri</productItem>
   <attributes>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Customer%20Name</ns2:definition>
         <ns2:code>Customer Name</ns2:code>
         <ns2:value>
            <ns3:string-value>FromDSM</ns3:string-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Workflow</ns2:definition>
         <ns2:code>Collect Workflow</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>COLLECT_AND_STAMP</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Comment%20To%20MSO</ns2:definition>
         <ns2:code>Comment To MSO</ns2:code>
         <ns2:value>
            <ns3:string-value>CommenttoMSO</ns3:string-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Packaging%20Type</ns2:definition>
         <ns2:code>Packaging Type</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>BAG</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Pickup%20PDP%20ID</ns2:definition>
         <ns2:code>Pickup PDP ID</ns2:code>
         <ns2:value>
            <ns3:decimal-value>941077</ns3:decimal-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Pickup%20PDP%20Suffix</ns2:definition>
         <ns2:code>Pickup PDP Suffix</ns2:code>
         <ns2:value>
            <ns3:decimal-value>0</ns3:decimal-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Volume-Weight</ns2:definition>
         <ns2:code>Collect Volume-Weight</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>&lt; 500kg &amp; &lt; 1,5m3</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20End%20Date</ns2:definition>
         <ns2:code>Collect End Date</ns2:code>
         <ns2:value>
            <ns3:date-value>2015-04-05</ns3:date-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Start%20Date</ns2:definition>
         <ns2:code>Collect Start Date</ns2:code>
         <ns2:value>
            <ns3:date-value>2013-04-05</ns3:date-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Monday</ns2:definition>
         <ns2:code>Collect Day - Monday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Tuesday</ns2:definition>
         <ns2:code>Collect Day - Tuesday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Wednesday</ns2:definition>
         <ns2:code>Collect Day - Wednesday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Thursday</ns2:definition>
         <ns2:code>Collect Day - Thursday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Collect%20Day%20-%20Friday</ns2:definition>
         <ns2:code>Collect Day - Friday</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>Yes</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Requested%20Collect%20Window</ns2:definition>
         <ns2:code>Requested Collect Window</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>12:00 - 14:00</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Requested%20Prefered%20Collect%20Hour</ns2:definition>
         <ns2:code>Requested Prefered Collect Hour</ns2:code>
         <ns2:value>
            <ns3:string-value>12:00</ns3:string-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Early%20Collect%20Day</ns2:definition>
         <ns2:code>Early Collect Day</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>mon</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Early%20Collect%20Requested%20Time%20Window</ns2:definition>
         <ns2:code>Early Collect Requested Time Window</ns2:code>
         <ns2:value>
            <ns3:enumeration-value>12:00 - 14:00</ns3:enumeration-value>
         </ns2:value>
      </ns2:attribute>
      <ns2:attribute>
         <ns2:definition>/bss/product-services/pool-attribute-definitions/Early%20Collect%20Prefered%20Hour</ns2:definition>
         <ns2:code>Early Collect Prefered Hour</ns2:code>
         <ns2:value>
            <ns3:string-value>12:00</ns3:string-value>
         </ns2:value>
      </ns2:attribute>
   </attributes>
   <billTo>billTo</billTo>
   <contract>http://contract/uri</contract>
   <contractExternalNumber>contractExternalNumber</contractExternalNumber>
   <contractingTo>contracTo${=((int)(java.lang.Math.random()*10000))}</contractingTo>
   <contractLine>http://contract/line/uri</contractLine>
   <defaultServiceUserLabel>serviceUserName</defaultServiceUserLabel>
   <plannedClosedDate>2015-04-05</plannedClosedDate>
   <plannedStartDate>2013-04-05</plannedStartDate>
   <subDeliveryServiceInfoCollection>
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Starterskit Collect &amp; Stamp</deliveryServiceCode>
         <productItem>product/item/uri</productItem>         
      </subDeliveryServiceInfos>
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Labels PPO</deliveryServiceCode>
         <productItem>product/item/uri</productItem>         
      </subDeliveryServiceInfos>
      <!--<subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Collect Temporary Stop</deliveryServiceCode>
         <productItem>product/item/uri</productItem>
         <attributes>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Temporary%20Stop%20Holidays%20Start%20Date</ns2:definition>
               <ns2:code>Temporary Stop Holidays Start Date</ns2:code>
               <ns2:value>
                  <ns3:date-value>2013-06-06</ns3:date-value>
               </ns2:value>
            </ns2:attribute>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Temporary%20Stop%20Holidays%20End%20Date</ns2:definition>
               <ns2:code>Temporary Stop Holidays End Date</ns2:code>
               <ns2:value>
                  <ns3:date-value>2013-09-06</ns3:date-value>
               </ns2:value>
            </ns2:attribute>
         </attributes>
      </subDeliveryServiceInfos>
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Collect Temporary Stop</deliveryServiceCode>
         <productItem>product/item/uri</productItem>
         <attributes>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Temporary%20Stop%20Holidays%20Start%20Date</ns2:definition>
               <ns2:code>Temporary Stop Holidays Start Date</ns2:code>
               <ns2:value>
                  <ns3:date-value>2013-11-06</ns3:date-value>
               </ns2:value>
            </ns2:attribute>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Temporary%20Stop%20Holidays%20End%20Date</ns2:definition>
               <ns2:code>Temporary Stop Holidays End Date</ns2:code>
               <ns2:value>
                  <ns3:date-value>2014-01-06</ns3:date-value>
               </ns2:value>
            </ns2:attribute>
         </attributes>
      </subDeliveryServiceInfos>-->
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Collect PPO Secured Pickup</deliveryServiceCode>
         <productItem>product/item/uri</productItem>
         <attributes>
            <ns2:attribute>
               <ns2:definition>/bss/product-services/pool-attribute-definitions/Secured%20Pickup</ns2:definition>
               <ns2:code>Secured Pickup</ns2:code>
               <ns2:value>
                  <ns3:enumeration-value>Yes</ns3:enumeration-value>
               </ns2:value>
            </ns2:attribute>
         </attributes>
      </subDeliveryServiceInfos>
   </subDeliveryServiceInfoCollection>
</ns9:topDeliveryServiceInfo>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/task/v2';

//ns1:state</path><content>pending</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Extract createTaskId for Collect and Send"><con:settings/><con:config><script>
def newUri = testRunner.testCase.testSteps["Collect Send (Run from here)"].testRequest.response.responseHeaders["Location"][0]
def taskId = newUri.substring(newUri.lastIndexOf("/")+1)

testRunner.testCase.setPropertyValue("createTaskId", taskId);

testRunner.gotoStepByName("Confirm request in ROMA")</script></con:config></con:testStep><con:testStep type="restrequest" name="Handling &amp; Franking PPO (Run from here)"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services" methodName="Create" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Handling &amp; Franking PPO (Run from here)" mediaType="application/vnd.bpost.excell.service.top-delivery-service.v1+xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request><![CDATA[<ns9:topDeliveryServiceInfo xmlns:pa="http://schemas.bpost.be/excell/common/attribute/v3" 
    xmlns:ns4="http://schemas.bpost.be/excell/common/percentage/v1" 
    xmlns:pavd="http://schemas.bpost.be/excell/common/attribute-value/v3" 
    xmlns:ns9="http://schemas.bpost.be/excell/service/top-delivery-service/v1/" 
    xmlns:phyadd="http://schemas.bpost.be/excell/common/physical-address/v1" 
    xmlns:ns6="http://schemas.bpost.be/excell/common/money/v3" 
    xmlns:ns7="http://schemas.bpost.be/excell/common/type-definitions/v2" 
    xmlns:ns8="http://schemas.bpost.be/excell/common/unit-of-measurement/V1">
   <contractLineId>contractLineId</contractLineId>
   <deliveryServiceCode>Handling &amp; Franking PPO</deliveryServiceCode>
   <productItem>product/item/uri</productItem>
   <attributes>
      <pa:attribute>
         <pa:definition>http://bpost.be/bss/product/definition/parcelAccountId</pa:definition>
         <pa:code>Parcel Account ID</pa:code>
         <pa:value><pavd:string-value>12345678901234567890</pavd:string-value></pa:value>
       </pa:attribute>
       <pa:attribute>
         <pa:definition>http://bpost.be/bss/product/definition/parcelVasCode</pa:definition>
         <pa:code>Parcel VAS Code</pa:code>
         <pa:value><pavd:string-value>666</pavd:string-value></pa:value>
       </pa:attribute>
       <pa:attribute>
         <pa:definition>http://bpost.be/bss/product/definition/RetourAddress</pa:definition>
         <pa:code>Retour Address</pa:code>
         <pa:value>
           <pavd:physicalAddress-v1-value>
               <phyadd:streetName>rue du trou perdu</phyadd:streetName>
               <phyadd:houseNumber>47</phyadd:houseNumber>
               <phyadd:box>5</phyadd:box>
               <phyadd:postalCode>5030</phyadd:postalCode>
               <phyadd:municipality>Gembloux</phyadd:municipality>
               <phyadd:countryCode>BE</phyadd:countryCode>
           </pavd:physicalAddress-v1-value>
         </pa:value>
       </pa:attribute>
   </attributes>
   <billTo>billTo</billTo>
   <contract>http://contract/uri</contract>
   <contractExternalNumber>${=((int)(java.lang.Math.random()*10000))}</contractExternalNumber>
   <contractingTo>${=((int)(java.lang.Math.random()*10000))}</contractingTo>
   <contractLine>${=((int)(java.lang.Math.random()*10000))}</contractLine>
   <defaultServiceUserLabel>serviceUserName</defaultServiceUserLabel>
   <plannedClosedDate>2015-04-05</plannedClosedDate>
   <plannedStartDate>2013-04-05</plannedStartDate>
   <subDeliveryServiceInfoCollection>
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Starterskit Collect &amp; Stamp</deliveryServiceCode>
         <productItem>product/item/uri</productItem>         
      </subDeliveryServiceInfos>
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Labels PPO</deliveryServiceCode>
         <productItem>product/item/uri</productItem>         
      </subDeliveryServiceInfos>     
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Franking PPO</deliveryServiceCode>
         <productItem>product/item/uri</productItem>         
         <subDeliveryServiceInfoCollection>
            <subDeliveryServiceInfos>
               <contractLineId>contractLineId</contractLineId>
               <deliveryServiceCode>Mail</deliveryServiceCode>
               <productItem>product/item/uri</productItem>                
            </subDeliveryServiceInfos>
            <subDeliveryServiceInfos>
               <contractLineId>contractLineId</contractLineId>
               <deliveryServiceCode>Bpack</deliveryServiceCode>
               <productItem>product/item/uri</productItem>
            </subDeliveryServiceInfos>
         </subDeliveryServiceInfoCollection>
      </subDeliveryServiceInfos>
   </subDeliveryServiceInfoCollection>
</ns9:topDeliveryServiceInfo>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/task/v2';

//ns1:state</path><content>pending</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Extract createTaskId for Handling &amp; Franking PPO"><con:settings/><con:config><script>
def newUri = testRunner.testCase.testSteps["Handling &amp; Franking PPO (Run from here)"].testRequest.response.responseHeaders["Location"][0]
def taskId = newUri.substring(newUri.lastIndexOf("/")+1)

testRunner.testCase.setPropertyValue("createTaskId", taskId);

testRunner.gotoStepByName("Wait before poll CreateTask")</script></con:config></con:testStep><con:testStep type="restrequest" name="Handling &amp; Franking PPO Public (Run from here)"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services" methodName="Create" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Handling &amp; Franking PPO Public (Run from here)" mediaType="application/vnd.bpost.excell.service.top-delivery-service.v1+xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request><![CDATA[<ns9:topDeliveryServiceInfo xmlns:pa="http://schemas.bpost.be/excell/common/attribute/v3" 
    xmlns:ns4="http://schemas.bpost.be/excell/common/percentage/v1" 
    xmlns:pavd="http://schemas.bpost.be/excell/common/attribute-value/v3" 
    xmlns:ns9="http://schemas.bpost.be/excell/service/top-delivery-service/v1/" 
    xmlns:phyadd="http://schemas.bpost.be/excell/common/physical-address/v1" 
    xmlns:ns6="http://schemas.bpost.be/excell/common/money/v3" 
    xmlns:ns7="http://schemas.bpost.be/excell/common/type-definitions/v2" 
    xmlns:ns8="http://schemas.bpost.be/excell/common/unit-of-measurement/V1">
   <contractLineId>contractLineId</contractLineId>
   <deliveryServiceCode>Handling &amp; Franking PPO Public</deliveryServiceCode>
   <productItem>product/item/uri</productItem>
   <attributes>
      <pa:attribute>
         <pa:definition>http://bpost.be/bss/product/definition/parcelAccountId</pa:definition>
         <pa:code>Parcel Account ID</pa:code>
         <pa:value><pavd:string-value>12345678901234567890</pavd:string-value></pa:value>
       </pa:attribute>
       <pa:attribute>
         <pa:definition>http://bpost.be/bss/product/definition/parcelVasCode</pa:definition>
         <pa:code>Parcel VAS Code</pa:code>
         <pa:value><pavd:string-value>666</pavd:string-value></pa:value>
       </pa:attribute>
       <pa:attribute>
         <pa:definition>http://bpost.be/bss/product/definition/RetourAddress</pa:definition>
         <pa:code>Retour Address</pa:code>
         <pa:value>
           <pavd:physicalAddress-v1-value>
               <phyadd:streetName>rue du trou perdu</phyadd:streetName>
               <phyadd:houseNumber>47</phyadd:houseNumber>
               <phyadd:box>5</phyadd:box>
               <phyadd:postalCode>5030</phyadd:postalCode>
               <phyadd:municipality>Gembloux</phyadd:municipality>
               <phyadd:countryCode>BE</phyadd:countryCode>
           </pavd:physicalAddress-v1-value>
         </pa:value>
       </pa:attribute>
   </attributes>
   <billTo>billTo</billTo>
   <contract>http://contract/uri</contract>
   <contractExternalNumber>${=((int)(java.lang.Math.random()*10000))}</contractExternalNumber>
   <contractingTo>${=((int)(java.lang.Math.random()*10000))}</contractingTo>
   <contractLine>${=((int)(java.lang.Math.random()*10000))}</contractLine>
   <defaultServiceUserLabel>serviceUserName</defaultServiceUserLabel>
   <plannedClosedDate>2015-04-05</plannedClosedDate>
   <plannedStartDate>2013-04-05</plannedStartDate>
   <subDeliveryServiceInfoCollection>
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Starterskit Collect &amp; Stamp</deliveryServiceCode>
         <productItem>product/item/uri</productItem>         
      </subDeliveryServiceInfos>
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Labels PPO</deliveryServiceCode>
         <productItem>product/item/uri</productItem>         
      </subDeliveryServiceInfos>     
      <subDeliveryServiceInfos>
         <contractLineId>contractLineId</contractLineId>
         <deliveryServiceCode>Franking PPO</deliveryServiceCode>
         <productItem>product/item/uri</productItem>         
         <subDeliveryServiceInfoCollection>
            <subDeliveryServiceInfos>
               <contractLineId>contractLineId</contractLineId>
               <deliveryServiceCode>Mail</deliveryServiceCode>
               <productItem>product/item/uri</productItem>                
            </subDeliveryServiceInfos>
            <subDeliveryServiceInfos>
               <contractLineId>contractLineId</contractLineId>
               <deliveryServiceCode>Bpack</deliveryServiceCode>
               <productItem>product/item/uri</productItem>
            </subDeliveryServiceInfos>
         </subDeliveryServiceInfoCollection>
      </subDeliveryServiceInfos>
   </subDeliveryServiceInfoCollection>
</ns9:topDeliveryServiceInfo>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/task/v2';

//ns1:state</path><content>pending</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Extract createTaskId for Handling &amp; Franking PPO Public"><con:settings/><con:config><script>
def newUri = testRunner.testCase.testSteps["Handling &amp; Franking PPO Public (Run from here)"].testRequest.response.responseHeaders["Location"][0]
def taskId = newUri.substring(newUri.lastIndexOf("/")+1)

testRunner.testCase.setPropertyValue("createTaskId", taskId);

testRunner.gotoStepByName("Wait before poll CreateTask")</script></con:config></con:testStep><con:testStep type="manualTestStep" name="Confirm request in ROMA"><con:description>go to http://rom-st1.netpost/ROMA-Web (or st2)
user: admdev ,  pass: 456789
> Collecte > Enlèvements à domicile > A traiter région 
Date de debut = 5/4/2013
Look for the  request with the latest recu date > Planifier(icon)
(A) enter 12:00 in both days: ROMA ACCEPTS
(B) enter something else (e.g. 14:00) : ROMA COUNTER-PROPOSES
> Planifier > A traiter PL (left side) > Order by "Recu" > Identify row > Accepter (icon, right side)
</con:description><con:settings/><con:config xsi:type="con:ManualTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:testStep><con:testStep type="restrequest" name="Get Create Task status"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get Create Task status" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding/><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Script Assertion"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def responseHolder = groovyUtils.getXmlHolder( messageExchange.response.responseContent )
responseHolder.namespaces["t"]="http://schemas.bpost.be/excell/common/task/v2";

def state = responseHolder.getNodeValue("//t:state");

log.info(state)
assert state == "suspended" || state == "completed"
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#createTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="goto" name="Skip Confirmation if COMPLETED"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>Skip Confirmation</con:name><con:type>XPATH</con:type><con:expression>declare namespace ns1='http://schemas.bpost.be/excell/common/task/v2';

//ns1:state='completed'</con:expression><con:targetStep>Extract dsId and dsVersionId of new Delivery Service</con:targetStep></con:condition><con:condition><con:name>Send Confirmation</con:name><con:type>XPATH</con:type><con:expression>declare namespace ns1='http://schemas.bpost.be/excell/common/task/v2';

//ns1:state='suspended'</con:expression><con:targetStep>Extract dsId and dsVersionId of suspende Delivery Service</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="groovy" name="Extract dsId and dsVersionId of suspende Delivery Service"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );

def response = testRunner.testCase.testSteps["Get Create Task status"].testRequest.response;
def responseHolder = groovyUtils.getXmlHolder( response.responseContent )
responseHolder.namespaces["ns"]="http://schemas.bpost.be/excell/common/task/v2";
def newUri = responseHolder.getNodeValue("//ns:result");

def pattern = /delivery-services\/(.*)\/versions\/(.*)/
def m = newUri =~ pattern
log.info(m)
def dsId = m[0][1];
def dsVersionId = m[0][2];
testRunner.testCase.setPropertyValue("dsId", dsId);
testRunner.testCase.setPropertyValue("dsVersionId", dsVersionId);
</script></con:config></con:testStep><con:testStep type="restrequest" name="Confirm ROMA counter-proposal"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/{id}/versions/{versionId}/confirmation" methodName="Send confirm" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Confirm ROMA counter-proposal" mediaType="application/xml" postQueryString="false" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Returned 202 Accepted"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="${#TestCase#dsId}"/>
  <con:entry key="versionId" value="${#TestCase#dsVersionId}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Extract confirmationTaskId"><con:settings/><con:config><script>def newUri = testRunner.testCase.testSteps["Confirm ROMA counter-proposal"].testRequest.response.responseHeaders["Location"][0]
def taskId = newUri.substring(newUri.lastIndexOf("/")+1)

testRunner.testCase.setPropertyValue("confirmationTaskId", taskId);
taskId</script></con:config></con:testStep><con:testStep type="delay" name="Wait for ROMA"><con:settings/><con:config><delay>5000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Confirmation Task is COMPLETED"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Confirmation Task is COMPLETED" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding/><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response has status COMPLETED"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/task/v2';

//ns1:state</path><content>completed</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#confirmationTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="Wait before poll CreateTask"><con:settings/><con:config><delay>2000</delay></con:config></con:testStep><con:testStep type="restrequest" name="PollTask"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PollTask" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#createTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="goto" name="Conditional CreatePollTask"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>isTaskStillPending</con:name><con:type>XPATH</con:type><con:expression>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';

//ns3:state='pending'
</con:expression><con:targetStep>Wait before poll CreateTask</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="restrequest" name="Check CreateTask is COMPLETED"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Check CreateTask is COMPLETED" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';
//ns3:state='completed'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#createTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Extract dsId and dsVersionId of new Delivery Service"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def currentTaskName = testRunner.testCase.getPropertyValue("currentTaskName");

def response = testRunner.testCase.testSteps["Check CreateTask is COMPLETED"].testRequest.response;
def responseHolder = groovyUtils.getXmlHolder( response.responseContent )
responseHolder.namespaces["ns"]="http://schemas.bpost.be/excell/common/task/v2";
def newUri = responseHolder.getNodeValue("//ns:result");

def pattern = /delivery-services\/(.*)\/versions\/(.*)/
def m = newUri =~ pattern

def dsId = m[0][1];
def dsVersionId = m[0][2];
testRunner.testCase.setPropertyValue("dsId", dsId);
testRunner.testCase.setPropertyValue("dsVersionId", dsVersionId);
</script></con:config></con:testStep><con:testStep type="restrequest" name="Submit EndDate Task"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/{id}/versions/{versionId}/endDate" methodName="Update" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Submit EndDate Task" mediaType="application/vnd.bpost.excell.service.delivery-service-end-date.v1+xml" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request>&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;cdse:deliveryServiceEndDateInfo xmlns:cdse="http://schemas.bpost.be/excell/service/delivery-service-end-date/v1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.bpost.be/excell/service/delivery-service/end-date/v1 service-endDate-v1.xsd ">
  &lt;endDate>2014-10-01&lt;/endDate>
&lt;/cdse:deliveryServiceEndDateInfo>
</con:request><con:assertion type="Valid HTTP Status Codes" name="Returned 202 Accepted"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="${#TestCase#dsId}"/>
  <con:entry key="versionId" value="${#TestCase#dsVersionId}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Extract endDateTaskId"><con:settings/><con:config><script>def newUri = testRunner.testCase.testSteps["Submit EndDate Task"].testRequest.response.responseHeaders["Location"][0]
def taskId = newUri.substring(newUri.lastIndexOf("/")+1)

testRunner.testCase.setPropertyValue("endDateTaskId", taskId);
taskId</script></con:config></con:testStep><con:testStep type="delay" name="Wait before poll EndDateTask"><con:settings/><con:config><delay>2000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Poll EndDateTask"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Poll EndDateTask" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#endDateTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="goto" name="Conditional EndDatePollTask"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>isTaskStillPending</con:name><con:type>XPATH</con:type><con:expression>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';

//ns3:state='pending'
</con:expression><con:targetStep>Wait before poll EndDateTask</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="restrequest" name="EndDate Task is COMPLETED"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="EndDate Task is COMPLETED" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/task/v2';

//ns1:state</path><content>completed</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#endDateTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Check new EndDate is set"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/{id}/versions/{versionId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Check new EndDate is set" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="XPath Match" name="plannedEndDate field is correct"><con:configuration><path>declare namespace ns5='http://schemas.bpost.be/excell/common/physical-address/v1';
declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v3';
declare namespace ns4='http://schemas.bpost.be/excell/common/percentage/v1';
declare namespace ns9='http://schemas.bpost.be/excell/service/top-delivery-service/v1/';
declare namespace ns8='http://schemas.bpost.be/excell/common/unit-of-measurement/V1';
declare namespace ns7='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/attribute-value/v3';
declare namespace ns6='http://schemas.bpost.be/excell/common/money/v3';


//plannedClosedDate</path><content>2014-10-01*</content><allowWildcards>true</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="operationalEndDate field is correct"><con:configuration><path>declare namespace ns5='http://schemas.bpost.be/excell/common/physical-address/v1';
declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v3';
declare namespace ns4='http://schemas.bpost.be/excell/common/percentage/v1';
declare namespace ns9='http://schemas.bpost.be/excell/service/top-delivery-service/v1/';
declare namespace ns8='http://schemas.bpost.be/excell/common/unit-of-measurement/V1';
declare namespace ns7='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/attribute-value/v3';
declare namespace ns6='http://schemas.bpost.be/excell/common/money/v3';


//operationalEndDate</path><content>2014-10-01*</content><allowWildcards>true</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Script Assertion"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def responseHolder = groovyUtils.getXmlHolder( messageExchange.response.responseContent )
responseHolder.namespaces["ns2"]="http://schemas.bpost.be/excell/common/attribute/v3";
responseHolder.namespaces["ns3"]="http://schemas.bpost.be/excell/common/attribute-value/v3";
//responseHolder.namespaces["ns9"]="http://schemas.bpost.be/excell/service/top-delivery-service/v1";

def serviceCode = responseHolder.getNodeValue("//deliveryServiceCode");
log.info(serviceCode)
if(serviceCode.startsWith("Collect")) {
	def collectAttributeValue = responseHolder.getNodeValue("//ns2:attribute[ns2:code='Collect End Date']/ns2:value/ns3:date-value");
	assert collectAttributeValue.startsWith("2014-10-01")
} </scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="${#TestCase#dsId}"/>
  <con:entry key="versionId" value="${#TestCase#dsVersionId}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Submit Cancel Task"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/{id}/versions/{versionId}/cancelled" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Submit Cancel Task" mediaType="application/x-www-form-urlencoded" postQueryString="false" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request>
</con:request><con:assertion type="Valid HTTP Status Codes" name="Returned 201 Accepted"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="${#TestCase#dsId}"/>
  <con:entry key="versionId" value="${#TestCase#dsVersionId}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Extract cancelTaskId"><con:settings/><con:config><script>def newUri = testRunner.testCase.testSteps["Submit Cancel Task"].testRequest.response.responseHeaders["Location"][0]
def taskId = newUri.substring(newUri.lastIndexOf("/")+1)

testRunner.testCase.setPropertyValue("cancelTaskId", taskId);
taskId</script></con:config></con:testStep><con:testStep type="delay" name="Wait before poll CancelTask"><con:settings/><con:config><delay>2000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Poll CancelTask"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Poll CancelTask" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#endDateTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="goto" name="Conditional CancelPollTask"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>isTaskStillPending</con:name><con:type>XPATH</con:type><con:expression>declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/task/v2';

//ns3:state='pending'
</con:expression><con:targetStep>Wait before poll CancelTask</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="restrequest" name="Cancel Task is COMPLETED"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/tasks/{taskId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Cancel Task is COMPLETED" mediaType="application/xml" accept="application/vnd.bpost.excell.common.task.v2+xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns2='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/attribute/v2';
declare namespace ns1='http://schemas.bpost.be/excell/common/task/v2';

//ns1:state</path><content>completed</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="taskId" value="${#TestCase#cancelTaskId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Check DS Cancelled"><con:settings/><con:config service="DSM" resourcePath="/bss/dsm/delivery-services/{id}/versions/{versionId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Check DS Cancelled" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://dsm-dv2.netpost</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Returned 200 OK"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="operational state is 'inactive'"><con:configuration><path>declare namespace ns5='http://schemas.bpost.be/excell/common/physical-address/v1';
declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v3';
declare namespace ns4='http://schemas.bpost.be/excell/common/percentage/v1';
declare namespace ns9='http://schemas.bpost.be/excell/service/top-delivery-service/v1/';
declare namespace ns8='http://schemas.bpost.be/excell/common/unit-of-measurement/V1';
declare namespace ns7='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/attribute-value/v3';
declare namespace ns6='http://schemas.bpost.be/excell/common/money/v3';


//ns9:topDeliveryService/implementationState</path><content>inactive</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns5='http://schemas.bpost.be/excell/common/physical-address/v1';
declare namespace ns2='http://schemas.bpost.be/excell/common/attribute/v3';
declare namespace ns4='http://schemas.bpost.be/excell/common/percentage/v1';
declare namespace ns9='http://schemas.bpost.be/excell/service/top-delivery-service/v1/';
declare namespace ns8='http://schemas.bpost.be/excell/common/unit-of-measurement/V1';
declare namespace ns7='http://schemas.bpost.be/excell/common/type-definitions/v2';
declare namespace ns3='http://schemas.bpost.be/excell/common/attribute-value/v3';
declare namespace ns6='http://schemas.bpost.be/excell/common/money/v3';

//ns9:topDeliveryService/deliveryServiceDetails/serviceState</path><content>inactive</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="${#TestCase#dsId}"/>
  <con:entry key="versionId" value="${#TestCase#dsVersionId}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>cancelTaskId</con:name><con:value>795626c8-bac9-450d-8cbe-379e4fc1ac58</con:value></con:property><con:property><con:name>confirmationTaskId</con:name><con:value>19bd1959-baa9-4606-a2e1-2d3019a77d9d</con:value></con:property><con:property><con:name>createTaskId</con:name><con:value>d0f11f4d-89fc-4d4a-96f3-b9d462939506</con:value></con:property><con:property><con:name>currentTaskName</con:name><con:value>Submit Create Franking</con:value></con:property><con:property><con:name>dsId</con:name><con:value>cf5ce66e-9a07-4649-a79d-b191a0ef2310</con:value></con:property><con:property><con:name>dsVersionId</con:name><con:value>e97e7497-9a5e-4fe0-9e19-a373e69a7be6</con:value></con:property><con:property><con:name>endDateTaskId</con:name><con:value>c614905d-26b2-434e-865a-b19f63e0229e</con:value></con:property><con:property><con:name>taskId</con:name><con:value>[daffc4a4-fc30-45b5-9c3e-edd1e044a9a2, ce12b26a-dacd-4564-a0f4-77b8b84f2a93]</con:value></con:property><con:property><con:name>taskIds</con:name><con:value>daffc4a4-fc30-45b5-9c3e-edd1e044a9a2,ce12b26a-dacd-4564-a0f4-77b8b84f2a93,</con:value></con:property><con:property><con:name>taskIndex</con:name><con:value>2</con:value></con:property><con:property><con:name>taskNames</con:name><con:value>Submit Create Collect|Submit Create Franking</con:value></con:property><con:property><con:name>Collect</con:name><con:value>false</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:properties/><con:beforeSaveScript>import com.eviware.soapui.model.ModelItem
import com.eviware.soapui.impl.rest.*
import com.eviware.soapui.impl.wsdl.teststeps.RestTestRequestStep
import com.eviware.soapui.support.XmlHolder
import javax.xml.XMLConstants
import javax.xml.transform.stream.StreamSource
import javax.xml.validation.SchemaFactory
import org.w3c.dom.ls.LSResourceResolver
import org.w3c.dom.ls.LSInput
import org.apache.xerces.dom.DOMInputImpl

def xsdBaseLocation = new XSDResourceResolver().getXSDBaseLocation();
if (xsdBaseLocation == null) {
	log.warn("Unable to validate of REST XML requests: Please add the \"excell-model-location\" global property to soapUI with a value such as \"c:/workspace-excell/exl13/model\"");
	return;
}
log.info "Using xsd base location " + xsdBaseLocation
    

class XSDResourceResolver  implements LSResourceResolver {
	def log;
	XSDResourceResolver(l) {log=l}

	public String getXSDBaseLocation() {
		def prop = com.eviware.soapui.model.propertyexpansion.PropertyExpansionUtils.globalProperties['excell-model-location'];
		if (prop==null) {
			return null;
		} else {
			return prop.value + "/src/resources/be/post/excell/schemas/"
		}
	}
	
	public LSInput resolveResource(String type, String namespaceURI, String publicId, String systemId, String baseURI) {		
      	  return new DOMInputImpl(publicId, systemId, systemId, new FileInputStream(getXSDLocation(namespaceURI)), "UTF-8");
     }
     public String getXSDLocation(excellNS) {
		log.debug "For namespace: " + excellNS
		def parts = excellNS.split("/")
		def verPart = parts[parts.length-1]
		def namePart = parts[parts.length-2]
		def packPart = parts[parts.length-3]
		def xsdRelativeLocation = packPart + "/" + namePart + "-" + verPart + ".xsd";
		def xsdLocation = getXSDBaseLocation()+xsdRelativeLocation
		log.debug "Loading XSD from " + xsdLocation
		xsdLocation
	}
}

def validateXML(xml) {	
	def holder = new XmlHolder(xml)
	rootNSUri = holder.getDomNode("/").getFirstChild().getNamespaceURI()
	def xsdLocation = new XSDResourceResolver(log).getXSDLocation(rootNSUri)
	
	def factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI)
	factory.setResourceResolver(new XSDResourceResolver(log))
	def schema = factory.newSchema(new StreamSource(new FileReader(xsdLocation)))
	
	def validator = schema.newValidator()
	validator.validate(new StreamSource(new StringReader(xml)))
}

def getModelItemPath(ModelItem modelItem) {
	String path="";
	def node = modelItem;
	while (node != project) {
		path=" > "+node.getName()+path;
		node=node.getParent();
	}
	path
}

def queue = new ArrayList()
queue.add(project)

while (!queue.isEmpty()) {
	ModelItem item = queue.remove(0);
	queue.addAll(item.getChildren());
	//log.info "Process item: "+item.getName() + " " + item.getClass()		
		
	if (item instanceof RestRequest ) {		
		def requestContent = ((RestRequest)item).getRequestContent();		
		if (requestContent == null || requestContent.trim() == "") continue;
		//log.info "Validate request:  >>" + item.getName()+"&amp;lt;&amp;lt;";
		try {
			validateXML(requestContent)
		} catch (Exception e) {
			log.error "XSD validation of request >>"+item.getName()+"&amp;lt;&amp;lt; failed with message: "+e
			log.error "         The previous request is located at : " + getModelItemPath(item)
		}
	}
	
}
log.info "Validation finished"</con:beforeSaveScript><con:wssContainer/><con:sensitiveInformation/></con:soapui-project>